!function(t,e,n){"use strict";function i(t){t&&(t.setTargetAtTime||(t.setTargetAtTime=t.setTargetValueAtTime))}window.hasOwnProperty("webkitAudioContext")&&!window.hasOwnProperty("AudioContext")&&(window.AudioContext=webkitAudioContext,AudioContext.prototype.hasOwnProperty("createGain")||(AudioContext.prototype.createGain=AudioContext.prototype.createGainNode),AudioContext.prototype.hasOwnProperty("createDelay")||(AudioContext.prototype.createDelay=AudioContext.prototype.createDelayNode),AudioContext.prototype.hasOwnProperty("createScriptProcessor")||(AudioContext.prototype.createScriptProcessor=AudioContext.prototype.createJavaScriptNode),AudioContext.prototype.hasOwnProperty("createPeriodicWave")||(AudioContext.prototype.createPeriodicWave=AudioContext.prototype.createWaveTable),AudioContext.prototype.internal_createGain=AudioContext.prototype.createGain,AudioContext.prototype.createGain=function(){var t=this.internal_createGain();return i(t.gain),t},AudioContext.prototype.internal_createDelay=AudioContext.prototype.createDelay,AudioContext.prototype.createDelay=function(t){var e=t?this.internal_createDelay(t):this.internal_createDelay();return i(e.delayTime),e},AudioContext.prototype.internal_createBufferSource=AudioContext.prototype.createBufferSource,AudioContext.prototype.createBufferSource=function(){var t=this.internal_createBufferSource();return t.start?(t.internal_start=t.start,t.start=function(e,n,i){"undefined"!=typeof i?t.internal_start(e||0,n,i):t.internal_start(e||0,n)}):t.start=function(t,e,n){e||n?this.noteGrainOn(t||0,e,n):this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},i(t.playbackRate),t},AudioContext.prototype.internal_createDynamicsCompressor=AudioContext.prototype.createDynamicsCompressor,AudioContext.prototype.createDynamicsCompressor=function(){var t=this.internal_createDynamicsCompressor();return i(t.threshold),i(t.knee),i(t.ratio),i(t.reduction),i(t.attack),i(t.release),t},AudioContext.prototype.internal_createBiquadFilter=AudioContext.prototype.createBiquadFilter,AudioContext.prototype.createBiquadFilter=function(){var t=this.internal_createBiquadFilter();return i(t.frequency),i(t.detune),i(t.Q),i(t.gain),t},AudioContext.prototype.hasOwnProperty("createOscillator")&&(AudioContext.prototype.internal_createOscillator=AudioContext.prototype.createOscillator,AudioContext.prototype.createOscillator=function(){var t=this.internal_createOscillator();return t.start?(t.internal_start=t.start,t.start=function(e){t.internal_start(e||0)}):t.start=function(t){this.noteOn(t||0)},t.stop?(t.internal_stop=t.stop,t.stop=function(e){t.internal_stop(e||0)}):t.stop=function(t){this.noteOff(t||0)},t.setPeriodicWave||(t.setPeriodicWave=t.setWaveTable),i(t.frequency),i(t.detune),t})),window.hasOwnProperty("webkitOfflineAudioContext")&&!window.hasOwnProperty("OfflineAudioContext")&&(window.OfflineAudioContext=webkitOfflineAudioContext)}(window),function t(e,n,i){function o(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return o(n?n:t)},l,l.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var i=t("underscore"),o=t("pd-fileutils.parser"),r=t("./lib/core/Patch"),s=t("./lib/core/PdObject"),a=t("./lib/core/mixins"),c=t("./lib/waa/portlets"),u=t("./lib/waa/interfaces"),l=t("./lib/global"),h=t("./lib/core/interfaces"),f=i.extend({},a.UniqueIdsMixin);t("./lib/index").declareObjects(l.library);var p=e.exports={getSampleRate:function(){return l.settings.sampleRate},start:function(t){if(t=t||{},!l.isStarted){"undefined"!=typeof AudioContext?(l.audio=t.audio||new u.Audio({channelCount:l.settings.channelCount,audioContext:t.audioContext}),l.clock=t.clock||new u.Clock({audioContext:l.audio.context,waaClock:t.waaClock})):(l.audio=t.audio||h.Audio,l.clock=t.clock||h.Clock),l.storage=t.storage?t.storage:"undefined"!=typeof window?new u.Storage:h.Storage,l.audio.start();for(var e in l.patches)l.patches[e].start();l.isStarted=!0}},stop:function(){if(l.isStarted){l.isStarted=!1;for(var t in l.patches)l.patches[t].stop();l.audio.stop()}},isStarted:function(){return l.isStarted},getAudio:function(){return l.audio},send:function(t,e){l.emitter.emit("msg:"+t,e)},receive:function(t,e){l.emitter.on("msg:"+t,e)},registerAbstraction:function(t,e){i.isString(e)&&(e=o.parse(e));var n=function(t,n,i){var t=new r(t,n,i);return t.patchId=f._generateId(),p._preparePatch(t,e),t};n.prototype=r.prototype,this.registerExternal(t,n)},registerExternal:function(t,e){l.library[t]=e},createPatch:function(){var t=this._createPatch();return l.isStarted&&t.start(),t},destroyPatch:function(t){t.stop(),t.destroy(),delete l.patches[t.patchId]},loadPatch:function(t){var e=this._createPatch();return i.isString(t)&&(t=o.parse(t)),this._preparePatch(e,t),l.isStarted&&e.start(),e},_createPatch:function(){var t=new r;return t.patchId=f._generateId(),l.patches[t.patchId]=t,t},_preparePatch:function(t,e){var n={};e.nodes.forEach(function(e){var i,o=e.proto;if("graph"===o){var r=e.subpatch.nodes[0];i=t._createObject("array",r.args||[]),i.setData(new Float32Array(r.data),!0),o="array"}else i=t._createObject(o,e.args||[]);"pd"===o&&p._preparePatch(i,e.subpatch),n[e.id]=i}),e.connections.forEach(function(t){var e=n[t.source.id],i=n[t.sink.id];if(!e||!i)throw new Error("invalid connection");e.o(t.source.port).connect(i.i(t.sink.port))})},core:{PdObject:s,portlets:c},_glob:l};"undefined"!=typeof window&&(window.Pd=p)},{"./lib/core/Patch":4,"./lib/core/PdObject":5,"./lib/core/interfaces":6,"./lib/core/mixins":7,"./lib/global":10,"./lib/index":12,"./lib/waa/interfaces":14,"./lib/waa/portlets":15,"pd-fileutils.parser":57,underscore:58}],2:[function(t,e,n){var i=(t("events").EventEmitter,t("underscore")),o=(t("chai").expect,t("./core/utils")),r=t("./core/mixins"),s=t("./core/PdObject"),a=(t("./core/Patch"),t("./global")),c=t("./waa/portlets");n.declareObjects=function(t){var e=s.extend({inletDefs:[c.Inlet.extend({message:function(t){this.obj._onMessageReceived(t)}})],outletDefs:[c.Outlet],init:function(t,e,n){if(this._eventReceiver=new r.EventReceiver,t&&"-"!==t&&"empty"!==t&&(this.receiveName=t,this._onMessageReceived&&(this._onMessageReceived=this._onMessageReceived.bind(this),this._eventReceiver.on(a.emitter,"msg:"+this.receiveName,this._onMessageReceived))),e&&"-"!==e&&"empty"!==e&&(this.sendName=e),n&&this.patch){var i=this;this._onPatchStarted=function(){i._sendMessage([i.value])},this._eventReceiver.on(this.patch,"started",this._onPatchStarted)}},destroy:function(){this._eventReceiver.destroy()},_sendMessage:function(t){this.o(0).message(t),this.sendName&&a.emitter.emit("msg:"+this.sendName,t)}});t.symbolatom=e.extend({type:"symbolatom",init:function(t){var n=(t[0]||void 0,t[1]||void 0,t[2]),i=t[3];this.value="symbol",e.prototype.init.apply(this,[n,i,0])},_onMessageReceived:function(t){var e=t[0];return"bang"===e||i.isNumber(e)||"symbol"===e?(i.isNumber(e)?this.value="float":"symbol"===e&&(this.value=t[1]),void this._sendMessage(o.timeTag(["symbol",this.value],t))):console.error("invalid "+e)}});var n=e.extend({init:function(t,n,o,r,s,a){this.value=a,this._limitInput=function(t){return i.isNumber(s)&&(t=Math.min(t,s)),i.isNumber(r)&&(t=Math.max(t,r)),t},e.prototype.init.apply(this,[n,o,t])},_onMessageReceived:function(t){var e=t[0];return"bang"===e||i.isNumber(e)?(i.isNumber(e)&&(this.value=e),void this._sendMessage(o.timeTag([this._limitInput(this.value)],t))):console.error("invalid "+e)}});t.floatatom=n.extend({type:"floatatom",init:function(t){var e=t[0]||void 0,i=t[1]||void 0,o=t[2],r=t[3];n.prototype.init.apply(this,[0,o,r,e,i,0])}}),t.nbx=n.extend({type:"nbx",init:function(t){var e=t[0]||void 0,i=t[1]||void 0,o=t[2]||0,r=t[3],s=t[4],a=t[5]||0;n.prototype.init.apply(this,[o,r,s,e,i,a])}}),t.bng=e.extend({type:"bng",init:function(t){var n=t[0]||0,i=t[1],o=t[2];e.prototype.init.apply(this,[i,o,n]),this.value="bang"},_onMessageReceived:function(t){this._sendMessage(o.timeTag(["bang"],t))}}),t.tgl=e.extend({type:"tgl",init:function(t){var n=t[0]||0,o=t[1],r=t[2],s=t[3]||0,a=i.isNumber(t[4])?t[4]:1;e.prototype.init.apply(this,[o,r,n]),this.nonZeroValue=a,this.value=s},_onMessageReceived:function(t){var e=t[0];if("bang"===e)this.value=0===this.value?this.nonZeroValue:0,this._sendMessage(o.timeTag([this.value],t));else{if(!i.isNumber(e))return console.error("invalid message received "+t);this.value=0===e?0:this.nonZeroValue,this._sendMessage(o.timeTag([e],t))}}});var u=n.extend({init:function(t){var e=t[0]||0,o=i.isNumber(t[1])?t[1]:127,r=t[2]||0,s=t[3],a=t[4],c=t[5]||0;n.prototype.init.apply(this,[r,s,a,e,o,c])}});t.hsl=u.extend({type:"hsl"}),t.vsl=u.extend({type:"vsl"});var l=e.extend({init:function(t){var n=(t[0],t[1]),o=i.isNumber(t[2])?t[2]:8,r=t[3],s=t[4],a=t[5]||0;this.value=a,this._limitInput=function(t){return Math.floor(Math.min(Math.max(t,0),o-1))},e.prototype.init.apply(this,[r,s,n])},_onMessageReceived:function(t){var e=t[0];return"bang"===e||i.isNumber(e)?(i.isNumber(e)&&(this.value=e),void this._sendMessage(o.timeTag([this._limitInput(this.value)],t))):console.error("invalid "+e)}});t.hradio=l.extend({type:"hradio"}),t.vradio=l.extend({type:"vradio"}),t.vu=e.extend({init:function(t){var n=t[0];e.prototype.init.apply(this,[n,void 0,0])},_onMessageReceived:function(t){this._sendMessage(t)}})}},{"./core/Patch":4,"./core/PdObject":5,"./core/mixins":7,"./core/utils":9,"./global":10,"./waa/portlets":15,chai:25,events:20,underscore:58}],3:[function(t,e,n){var i=t("underscore"),o=(t("util").inherits,t("./portlets"),t("./utils"),e.exports=function(t,e,n){n=n||[];var i=this;this.id=e,this.patch=t,this.inlets=this.inletDefs.map(function(t,e){return new t(i,e)}),this.outlets=this.outletDefs.map(function(t,e){return new t(i,e)}),this.init(n)});i.extend(o.prototype,{endPoint:!1,doResolveArgs:!1,outletDefs:[],inletDefs:[],init:function(){},start:function(){},stop:function(){},destroy:function(){},i:function(t){if(t<this.inlets.length)return this.inlets[t];throw new Error("invalid inlet "+t)},o:function(t){if(t<this.outlets.length)return this.outlets[t];throw new Error("invalid outlet "+t)},startPortlets:function(){this.outlets.forEach(function(t){t.start()}),this.inlets.forEach(function(t){t.start()})},stopPortlets:function(){this.outlets.forEach(function(t){t.stop()}),this.inlets.forEach(function(t){t.stop()})}})},{"./portlets":8,"./utils":9,underscore:58,util:24}],4:[function(t,e,n){var i=t("underscore"),o=t("events").EventEmitter,r=t("./mixins"),s=t("./utils"),a=t("./BaseNode"),c=t("../global"),u=e.exports=function(){a.apply(this,arguments),this.objects=[],this.endPoints=[],this.patchId=null,this.sampleRate=c.settings.sampleRate,this.blockSize=c.settings.blockSize};i.extend(u.prototype,a.prototype,r.UniqueIdsMixin,o.prototype,{type:"patch",init:function(t){this.args=t},start:function(){this._startStopGeneric("start","startPortlets","started")},stop:function(){this._startStopGeneric("stop","stopPortlets","stopped")},destroy:function(){this.objects.forEach(function(t){t.destroy()})},_startStopGeneric:function(t,e,n){var i=function(e){e instanceof u?(o.push(e),e.objects.forEach(i)):e[t]()},o=[this];this.objects.forEach(i),o.forEach(function(t){t.objects.forEach(function(t){t instanceof u||t[e]()})}),o.forEach(function(t){t.emit(n)})},createObject:function(t,e){var n=this._createObject(t,e);return c.isStarted&&(n.start(),n.startPortlets()),n},_createObject:function(t,e){var n;if(e=e||[],!c.library.hasOwnProperty(t))throw new Error("unknown object "+t);var i=c.library[t];return i.prototype.doResolveArgs&&(e=this.resolveArgs(e)),n=new i(this,this._generateId(),e),this.objects[n.id]=n,n.endPoint&&this.endPoints.push(n),l(n)&&this.inlets.push(n.inlets[0]),h(n)&&this.outlets.push(n.outlets[0]),n},resolveArgs:function(t){var e,n=t.slice(0),i=this.getPatchRoot().patchId;return e=[i].concat(this.args),t.forEach(function(t,e){"b"===t?n[e]="bang":"f"===t?n[e]="float":"s"===t?n[e]="symbol":"a"===t?n[e]="anything":"l"===t&&(n[e]="list")}),s.getDollarResolver(n)(e)},getPatchRoot:function(){for(var t=this;t.patch;)t=t.patch;return t}});var l=function(t){return[c.library.inlet,c.library["inlet~"]].some(function(e){return t instanceof e})},h=function(t){return[c.library.outlet,c.library["outlet~"]].some(function(e){return t instanceof e})}},{"../global":10,"./BaseNode":3,"./mixins":7,"./utils":9,events:20,underscore:58}],5:[function(t,e,n){var i=t("underscore"),o=(t("util").inherits,t("./portlets"),t("./utils")),r=t("./BaseNode"),s=(t("./Patch"),t("../global"),e.exports=function(){r.apply(this,arguments)});s.extend=o.chainExtend,i.extend(s.prototype,r.prototype,{doResolveArgs:!0})},{"../global":10,"./BaseNode":3,"./Patch":4,"./portlets":8,"./utils":9,underscore:58,util:24}],6:[function(t,e,n){n.Clock={time:0,schedule:function(t,e,n){},unschedule:function(t){}},n.Audio={start:function(){},stop:function(){},decode:function(t,e){e(null,t)}},n.Storage={get:function(t,e){}}},{}],7:[function(t,e,n){var i=t("events").EventEmitter,o=t("underscore"),r=t("chai").expect,s=t("../global");n.NamedMixin={nameIsUnique:!1,setName:function(t){r(t).to.be.a("string","name");var e=this.name;this.emit("changing:name",e,t),this.name=t,s.namedObjects.register(this,this.type,t,this.nameIsUnique,e),this.emit("changed:name",e,t)},destroy:function(){s.namedObjects.unregister(this,this.type,this.name)}};var a=n.EventEmitterMixin=o.extend({},i.prototype,{destroy:function(){this.removeAllListeners()}}),c=n.Reference=function(t){this.referencedType=t,this._onNewObject=null,this._onChangedName=null,this.resolved=null,this._eventName="namedObjects:registered:"+this.referencedType,this._eventReceiver=new u};o.extend(c.prototype,a,{set:function(t){var e=this,n=s.namedObjects.get(this.referencedType,t)[0];this.name=t,this._stopListening(),n?this._setResolved(n):(this._setResolved(null),this._onNewObject=function(n){n.name===t&&(e._stopListening(),e._setResolved(n))},this._eventReceiver.on(s.emitter,this._eventName,this._onNewObject))},destroy:function(){this._eventReceiver.destroy(),a.destroy.apply(this)},_setResolved:function(t){var e=this,n=this.resolved;this.resolved=t,n&&n.removeListener("changing:name",e._onChangedName),t&&(this._onChangedName=function(){e._setResolved(null)},this._eventReceiver.on(t,"changing:name",this._onChangedName)),this.emit("changed",t,n)},_stopListening:function(){this._onNewObject&&(this._eventReceiver.removeListener(s.emitter,this._eventName,this._onNewObject),this._onNewObject=null)}}),n.UniqueIdsMixin={_generateId:function(){return this._idCounter++,this._idCounter},_idCounter:-1};var u=n.EventReceiver=function(){this._handlers=[]};o.extend(u.prototype,{addListener:function(t,e,n){this._handlers.push([t,e,n]),t.addListener(e,n)},once:function(t,e,n){var i=[t,e,n];this._handlers.push(i),t.once(e,n)},removeListener:function(t,e,n){this._handlers=o.reject(this._handlers,function(i){var o=i[0]===t&&i[1]===e&&i[2]===n;return o&&t.removeListener(e,n),o})},destroy:function(){this._handlers.forEach(function(t){t[0].removeListener(t[1],t[2])}),this._handlers=[]}}),u.prototype.on=u.prototype.addListener},{"../global":10,chai:25,events:20,underscore:58}],8:[function(t,e,n){var i=t("underscore"),o=t("./utils"),r=n.Portlet=function(t,e){this.obj=t,this.id=e,this.connections=[],this.init()};i.extend(r.prototype,{crossPatch:!1,init:function(){},start:function(){},stop:function(){},message:function(t){},connection:function(t){},disconnection:function(t){},connect:function(t){if(-1!==this.connections.indexOf(t))return!1;if(!this.crossPatch&&!t.crossPatch&&this.obj.patch!==t.obj.patch)throw new Error("cannot connect objects that belong to different patches");return this.connections.push(t),t.connect(this),this.connection(t),!0},disconnect:function(t){var e=this.connections.indexOf(t);return-1===e?!1:(this.connections.splice(e,1),t.disconnect(this),this.disconnection(t),!0)}}),r.extend=o.chainExtend;n.Inlet=r.extend({}),n.Outlet=r.extend({})},{"./utils":9,underscore:58}],9:[function(t,e,n){var i=t("underscore"),o=(t("chai").expect,t("../global")),r=/\$(\d+)/,s=/\$(\d+)/g;n.getDollarResolver=function(t){t=t.slice(0);var e=function(t,e){if(e>=t.length||0>e)throw new Error("$"+(e+1)+": argument number out of range");return t[e]},n=t.map(function(t){var n=r.exec(t);return n&&n[0]===t?function(t){var i=parseInt(n[1],10);return function(t){return e(t,i)}}(t):n?function(t){for(var n,i=[];n=s.exec(t);)i.push([n[0],parseInt(n[1],10)]);return function(n){var o=t.substr(0);return i.forEach(function(t){o=o.replace(t[0],e(n,t[1]))}),o}}(t):function(t){return function(){return t}}(t)});return function(t){return n.map(function(e,n){return e(t)})}},n.chainExtend=function(){var t=Array.prototype.slice.call(arguments,0),e=this,n=function(){e.apply(this,arguments)};return n.prototype=new e,i.extend.apply(this,[n.prototype,e.prototype].concat(t)),n.extend=this.extend,n},n.timeTag=function(t,e){return e?(t.timeTag=i.isNumber(e)?e:e.timeTag,t):t},n.getTimeTag=function(t){return t&&t.timeTag||o.clock&&o.clock.time||0}},{"../global":10,chai:25,underscore:58}],10:[function(t,e,n){var i=t("underscore"),o=t("events").EventEmitter;n.settings={sampleRate:44100,blockSize:16384,channelCount:2},n.isStarted=!1;var r=n.emitter=new o;r.emit=function(t){if(!i.contains([],t)&&0!==t.indexOf("msg:")&&0!==t.indexOf("namedObjects:registered")&&0!==t.indexOf("namedObjects:unregistered"))throw new Error("unknown event : "+t);o.prototype.emit.apply(this,arguments)},n.library={},n.patches={},n.audio=null,n.clock=null,n.storage=null,n.namedObjects={register:function(t,e,i,o,r){var s,a;if(this._store[e]=s=this._store[e]||{},s[i]=a=s[i]||[],-1===a.indexOf(t)){if(o&&a.length>0)throw new Error("there is already a "+e+' with name "'+i+'"');a.push(t)}r&&(a=s[r],a.splice(a.indexOf(t),1)),n.emitter.emit("namedObjects:registered:"+e,t)},unregister:function(t,e,i){var o,r=this._store[e],s=r?r[i]:null;s&&(o=s.indexOf(t),-1!==o&&(s.splice(o,1),n.emitter.emit("namedObjects:unregistered:"+e,t)))},get:function(t,e){return(this._store[t]||{})[e]||[]},reset:function(){this._store={}},_store:{}}},{events:20,underscore:58}],11:[function(t,e,n){var i=t("underscore"),o=t("chai").expect,r=t("./core/utils"),s=t("./core/mixins"),a=t("./core/PdObject"),c=t("./core/Patch"),u=t("./global"),l=t("./waa/portlets");n.declareObjects=function(t){t.receive=t.r=a.extend(s.NamedMixin,s.EventEmitterMixin,{type:"receive",outletDefs:[l.Outlet],abbreviations:["r"],init:function(t){var e=t[0],n=this;this._eventReceiver=new s.EventReceiver,this._onMessageReceived=this._onMessageReceived.bind(this),this._eventReceiver.on(this,"changed:name",function(t,e){t&&n._eventReceiver.removeListener(u.emitter,"msg:"+t,n._onMessageReceived),n._eventReceiver.on(u.emitter,"msg:"+e,n._onMessageReceived)}),this.setName(e)},destroy:function(){s.NamedMixin.destroy.apply(this,arguments),this._eventReceiver.destroy(),s.EventEmitterMixin.destroy.apply(this,arguments)},_onMessageReceived:function(t){this.o(0).message(t)}}),t.send=t.s=a.extend(s.NamedMixin,s.EventEmitterMixin,{type:"send",inletDefs:[l.Inlet.extend({message:function(t){u.emitter.emit("msg:"+this.obj.name,t)}})],abbreviations:["s"],init:function(t){this.setName(t[0])},destroy:function(){s.NamedMixin.destroy.apply(this,arguments),s.EventEmitterMixin.destroy.apply(this,arguments)}}),t.msg=a.extend({type:"msg",doResolveArgs:!1,inletDefs:[l.Inlet.extend({message:function(t){var e=t.timeTag;t=t.slice(0),t.unshift(0),this.obj.outlets[0].message(r.timeTag(this.obj.resolver(t),e))}})],outletDefs:[l.Outlet],init:function(t){this.resolver=r.getDollarResolver(t)}}),t.print=a.extend({type:"print",inletDefs:[l.Inlet.extend({message:function(t){console.log(this.obj.prefix?[this.obj.prefix].concat(t):t)}})],init:function(t){this.prefix=t[0]||"print"}}),t.text=a.extend({type:"text",init:function(t){this.text=t[0]}}),t.loadbang=a.extend({type:"loadbang",outletDefs:[l.Outlet],init:function(){var t=this;this._eventReceiver=new s.EventReceiver,this._onPatchStarted=function(){t.o(0).message(["bang"])},this._eventReceiver.on(this.patch,"started",this._onPatchStarted)},destroy:function(){this._eventReceiver.destroy()}});var e=a.extend({inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];"bang"!==e&&this.obj.setVal(e),this.obj.o(0).message(r.timeTag([this.obj.val],t))}}),l.Inlet.extend({message:function(t){var e=t[0];this.obj.setVal(e)}})],outletDefs:[l.Outlet],init:function(t){var e=t[0];this.setVal(e||0)},setVal:function(t){this.val=t}});t["float"]=t.f=e.extend({type:"float",setVal:function(t){o(t).to.be.a("number","float::value"),this.val=t}}),t["int"]=t.i=e.extend({type:"int",setVal:function(t){o(t).to.be.a("number","float::value"),this.val=Math.floor(t)}});var n=a.extend({inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];i.isNumber(e)?this.obj.valLeft=e:"bang"!==e&&console.error("invalid message : "+t),this.obj.o(0).message(r.timeTag([this.obj.compute()],t))}}),l.Inlet.extend({message:function(t){var e=t[0];o(e).to.be.a("number",this.obj.type+"::value"),this.obj.valRight=e}})],outletDefs:[l.Outlet],init:function(t){this.valRight=t[0]||0,this.valLeft=0},compute:function(){}});t["+"]=n.extend({type:"+",compute:function(){return this.valLeft+this.valRight}}),t["-"]=n.extend({type:"-",compute:function(){return this.valLeft-this.valRight}}),t["*"]=n.extend({type:"*",compute:function(){return this.valLeft*this.valRight}}),t["/"]=n.extend({type:"/",compute:function(){return this.valLeft/this.valRight}}),t.mod=t["%"]=n.extend({type:"mod",compute:function(){return this.valLeft%this.valRight}}),t.pow=n.extend({type:"pow",compute:function(){return Math.pow(this.valLeft,this.valRight)}});var h=a.extend({inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];this.obj.checkInput(e),this.obj.o(0).message(r.timeTag([this.obj.compute(e)],t))}})],outletDefs:[l.Outlet],checkInput:function(t){},compute:function(){}}),f=h.extend({checkInput:function(t){o(t).to.be.a("number")}});t.cos=f.extend({type:"cos",compute:function(t){return Math.cos(t)}}),t.sin=f.extend({type:"sin",compute:function(t){return Math.sin(t)}}),t.tan=f.extend({type:"tan",compute:function(t){return Math.tan(t)}}),t.atan=f.extend({type:"atan",compute:function(t){return Math.atan(t)}}),t.exp=f.extend({type:"exp",compute:function(t){return Math.exp(t)}}),t.log=f.extend({type:"log",compute:function(t){return Math.log(t)}}),t.abs=f.extend({type:"abs",compute:function(t){return Math.abs(t)}}),t.sqrt=f.extend({type:"sqrt",compute:function(t){return Math.sqrt(t)}}),t.mtof=f.extend({type:"mtof",maxMidiNote:8.17579891564*Math.exp(86.585635235),compute:function(t){var e=0;return o(t).to.be.a("number","mtof::value"),e=-1500>=t?0:t>1499?this.maxMidiNote:8.17579891564*Math.exp(.057762265*t)}}),t["samplerate~"]=h.extend({type:"samplerate~",compute:function(){return u.settings.sampleRate}}),t.spigot=a.extend({type:"spigot",inletDefs:[l.Inlet.extend({message:function(t){this.obj.passing&&this.obj.o(0).message(t)}}),l.Inlet.extend({message:function(t){var e=t[0];this.obj.setPassing(e)}})],outletDefs:[l.Outlet],init:function(t){var e=t[0];this.setPassing(e||0)},setPassing:function(t){o(t).to.be.a("number","spigot::passing"),this.passing=Boolean(t)}}),t.trigger=t.t=a.extend({type:"trigger",inletDefs:[l.Inlet.extend({message:function(t){var e,n,o;for(e=this.obj.filters.length-1;e>=0;e--)if(n=this.obj.filters[e],"bang"===n)this.obj.o(e).message(r.timeTag(["bang"],t));else if("list"===n||"anything"===n)this.obj.o(e).message(t);else if("float"===n||i.isNumber(n))o=t[0],this.obj.o(e).message(i.isNumber(o)?r.timeTag([o],t):r.timeTag([0],t));else if("symbol"===n)if(o=t[0],"bang"===o)this.obj.o(e).message(r.timeTag(["symbol"],t));else if(i.isNumber(o))this.obj.o(e).message(r.timeTag(["float"],t));else{if(!i.isString(o))throw new Error("Got unexpected input "+t);this.obj.o(e).message(r.timeTag([o],t))}else this.obj.o(e).message(r.timeTag(["bang"],t))}})],init:function(t){var e,n;for(0===t.length&&(t=["bang","bang"]),e=0,n=t.length;n>e;e++)this.outlets.push(new l.Outlet(this,e));this.filters=t}});var p=l.Inlet.extend({message:function(t){var e=t[0];"bang"!==e&&(this.obj.memory[0]=e),this.obj.o(0).message(r.timeTag(this.obj.memory.slice(0),t))}}),d=l.Inlet.extend({message:function(t){var e=t[0];this.obj.memory[this.id]=e}});t.pack=a.extend({type:"pack",outletDefs:[l.Outlet],init:function(t){var e,n=t.length;for(0===n&&(t=["float","float"]),n=t.length,this.filters=t,this.memory=new Array(n),e=0;n>e;e++)this.inlets[e]=0===e?new p(this,e):new d(this,e),this.memory[e]="float"===t[e]?0:"symbol"===t[e]?"symbol":t[e]}}),t.select=t.sel=a.extend({type:"select",inletDefs:[l.Inlet.extend({message:function(t){var e,n=t[0];-1!==(e=this.obj.filters.indexOf(n))?this.obj.o(e).message(r.timeTag(["bang"],t)):this.obj.outlets.slice(-1)[0].message(r.timeTag([n],t))}}),l.Inlet.extend({message:function(t){this.obj.filters.length<=1&&(this.obj.filters=t)}})],init:function(t){var e,n;for(0===t.length&&(t=[0]),t.length>1&&this.inlets.pop(),e=0,n=t.length;n>e;e++)this.outlets[e]=new l.Outlet(this,e);this.outlets[e]=new l.Outlet(this,e),this.filters=t}}),t.moses=a.extend({type:"moses",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];o(e).to.be.a("number","moses::value"),e<this.obj.val?this.obj.o(0).message(r.timeTag([e],t)):this.obj.o(1).message(r.timeTag([e],t))}}),l.Inlet.extend({message:function(t){var e=t[0];this.obj.setVal(e)}})],outletDefs:[l.Outlet,l.Outlet],init:function(t){var e=t[0];this.setVal(e||0)},setVal:function(t){o(t).to.be.a("number","moses::value"),this.val=t}}),t.until=a.extend({type:"until",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];"bang"===e?this.obj._startLoop(t.timeTag):(o(e).to.be.a("number","moses::value"),this.obj._startLoop(t.timeTag,e))}}),l.Inlet.extend({message:function(t){var e=t[0];o(e).to.equal("bang"),this.obj._stopLoop()}})],outletDefs:[l.Outlet],init:function(){this._looping=!1},_startLoop:function(t,e){this._looping=!0;var n=this,o=0,s=function(){n.o(0).message(r.timeTag(["bang"],t))};if(i.isNumber(e))for(;this._looping&&e>o;)s(),o++;else for(;this._looping;)s();this._looping=!1},_stopLoop:function(){this._looping=!1}}),t.random=a.extend({type:"random",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];"bang"===e&&this.obj.o(0).message(r.timeTag([Math.floor(Math.random()*this.obj.max)],t))}}),l.Inlet.extend({message:function(t){var e=t[0];this.obj.setMax(e)}})],outletDefs:[l.Outlet],init:function(t){var e=t[0];this.setMax(e||1)},setMax:function(t){o(t).to.be.a("number","random::max"),this.max=t}}),t.metro=a.extend({type:"metro",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];"bang"===e?this.obj._restartMetroTick(r.getTimeTag(t)):"stop"===e?this.obj._stopMetroTick():(o(e).to.be.a("number","metro::command"),0===e?this.obj._stopMetroTick():this.obj._restartMetroTick(r.getTimeTag(t)))}}),l.Inlet.extend({message:function(t){var e=t[0];this.obj.setRate(e),this.obj._metroTick=this.obj._metroTickRateChange}})],outletDefs:[l.Outlet],init:function(t){var e=t[0];this.setRate(e||0),this._metroHandle=null,this._metroTick=this._metroTickNormal},setRate:function(t){o(t).to.be.a("number","metro::rate"),this.rate=Math.max(t,1)},destroy:function(){this._stopMetroTick()},_startMetroTick:function(t){var e=this;null===this._metroHandle&&(this._metroHandle=u.clock.schedule(function(t){e._metroTick(t.timeTag)},t,this.rate))},_stopMetroTick:function(){null!==this._metroHandle&&(u.clock.unschedule(this._metroHandle),this._metroHandle=null)},_restartMetroTick:function(t){this._metroTick===this._metroTickRateChange&&(this._metroTick=this._metroTickNormal),this._stopMetroTick(),this._startMetroTick(t)},_metroTickNormal:function(t){this.outlets[0].message(r.timeTag(["bang"],t))},_metroTickRateChange:function(t){this._metroTick=this._metroTickNormal,this._restartMetroTick(t)}}),t.delay=t.del=a.extend({type:"delay",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];"bang"===e?(this.obj._stopDelay(),this.obj._startDelay(r.getTimeTag(t))):"stop"===e?this.obj._stopDelay():(this.obj.setDelay(e),this.obj._stopDelay(),this.obj._startDelay(r.getTimeTag(t)))}}),l.Inlet.extend({message:function(t){var e=t[0];this.obj.setDelay(e)}})],outletDefs:[l.Outlet],init:function(t){var e=t[0];this.setDelay(e||0),this._delayHandle=null},setDelay:function(t){o(t).to.be.a("number","delay::time"),this.delay=t},destroy:function(){this._stopDelay()},_startDelay:function(t){var e=this;null===this._delayHandle&&(this._delayHandle=u.clock.schedule(function(){e.outlets[0].message(["bang"])},t+this.delay))},_stopDelay:function(){null!==this._delayHandle&&(u.clock.unschedule(this._delayHandle),this._delayHandle=null)}}),t.timer=a.extend({type:"timer",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];o(e).to.be.equal("bang","timer::startStop"),this.obj.refTime=r.getTimeTag(t)}}),l.Inlet.extend({message:function(t){var e=t[0];o(e).to.be.equal("bang","timer::measure"),this.obj.outlets[0].message(r.timeTag([r.getTimeTag(t)-this.obj.refTime],t))}})],outletDefs:[l.Outlet],init:function(){this.refTime=0}}),t.change=a.extend({type:"change",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];e!==this.obj.last&&(this.obj.last=e,this.obj.o(0).message(r.timeTag([e],t)))}})],outletDefs:[l.Outlet],init:function(){this.last=null}}),t.array=t.table=a.extend(s.NamedMixin,s.EventEmitterMixin,{type:"array",nameIsUnique:!0,init:function(t){var e=t[0],n=t[1]||100;e&&this.setName(e),this.size=n,this.data=new Float32Array(n)},destroy:function(){s.NamedMixin.destroy.apply(this,arguments),s.EventEmitterMixin.destroy.apply(this,arguments)},setData:function(t,e){e&&(this.data=new Float32Array(t.length)),this.data.set(t.subarray(0,Math.min(this.data.length,t.length))),this.size=this.data.length,this.emit("changed:data")}}),t.soundfiler=a.extend({type:"soundfiler",inletDefs:[l.Inlet.extend({message:function(t){var e,n,o,r=this,s=t[0],a=!1;if(t=t.slice(1),"read"===s){for(;t.length&&"-"===t[0][0];){if(e=t.shift(),"-resize"!==e)return console.error("-wave"===e&&"-aiff"===e&&"-nextstep"===e&&"-raw"===e&&"-bytes"===e&&"-nframes"===e?e+" not supported":e+" not understood");a=!0}n=t.shift(),o=t,u.storage.get(n,function(t,e){return t?console.error("could not load file : "+t):void u.audio.decode(e,function(t,e){if(t)return console.error("Could not decode file : "+t);var n,s,c;s=o.map(function(t){return n=u.namedObjects.get("array",t)[0],n?n:(console.error('array "'+t+'" not found'),null)}),i.contains(s,null)||(1!==i.uniq(i.pluck(s,"size")).length&&(a=!0),s.forEach(function(t,n){c=e[n],c&&t.setData(c,a)}),r.obj.o(0).message([Math.min(s[0].size,e[0].length)]))})})}else console.error('command "'+s+'" is not supported')}})],outletDefs:[l.Outlet]}),t.pd=c}},{"./core/Patch":4,"./core/PdObject":5,"./core/mixins":7,"./core/utils":9,"./global":10,"./waa/portlets":15,chai:25,underscore:58}],12:[function(t,e,n){t("underscore");n.declareObjects=function(e){t("./glue").declareObjects(e),t("./controls").declareObjects(e),t("./waa/dsp").declareObjects(e),t("./waa/portlets").declareObjects(e)}},{"./controls":2,"./glue":11,"./waa/dsp":13,"./waa/portlets":15,underscore:58}],13:[function(t,e,n){var i=(t("underscore"),t("chai").expect),o=t("waaoffsetnode"),r=t("waawhitenoisenode"),s=t("waatablenode"),a=t("../core/utils"),c=t("../core/mixins"),u=t("../core/PdObject"),l=t("./portlets"),h=t("../global");n.declareObjects=function(t){var e=u.extend({inletDefs:[l.DspInlet.extend({message:function(t){var e=t[0];this.hasDspSource()||(i(e).to.be.a("number",this.obj.type+"::frequency"),e===1/0&&(e=0),this.obj.frequency=e,this.obj._updateFrequency(a.getTimeTag(t)))}}),l.Inlet.extend({message:function(t){var e=t[0];i(e).to.be.a("number","osc~::phase"),this.obj._updatePhase(e,a.getTimeTag(t));

}})],outletDefs:[l.DspOutlet],init:function(t){this.frequency=t[0]||0},start:function(){this._createOscillator(0,0)},stop:function(){this._destroyOscillator()},_updateFrequency:function(t){this._oscNode&&this._oscNode.frequency.setValueAtTime(this.frequency,t/1e3)},_updatePhase:function(t,e){h.isStarted&&this._createOscillator(t,e)}});t["osc~"]=e.extend({type:"osc~",_createOscillator:function(t,e){t=2*t*Math.PI,this._oscNode=h.audio.context.createOscillator(),this._oscNode.setPeriodicWave(h.audio.context.createPeriodicWave(new Float32Array([0,Math.cos(t)]),new Float32Array([0,Math.sin(-t)]))),this._oscNode.start(e/1e3),this.o(0).setWaa(this._oscNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null}}),t["phasor~"]=e.extend({type:"phasor~",_createOscillator:function(t,e){this._gainNode=h.audio.context.createGain(),this._gainNode.gain.value=.5,this._oscNode=h.audio.context.createOscillator(),this._oscNode.type="sawtooth",this._oscNode.start(e/1e3),this._oscNode.connect(this._gainNode),this._offsetNode=new o(h.audio.context),this._offsetNode.offset.value=1,this._offsetNode.connect(this._gainNode),this.o(0).setWaa(this._gainNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null,this._gainNode=null,this._offsetNode=null}}),t["triangle~"]=e.extend({type:"triangle~",_createOscillator:function(t,e){this._oscNode=h.audio.context.createOscillator(),this._oscNode.type="triangle",this._oscNode.start(e/1e3),this.o(0).setWaa(this._oscNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null}}),t["square~"]=e.extend({type:"square~",_createOscillator:function(t,e){this._oscNode=h.audio.context.createOscillator(),this._oscNode.type="square",this._oscNode.start(e/1e3),this.o(0).setWaa(this._oscNode,0),this.i(0).setWaa(this._oscNode.frequency,0),this.i(0).message([this.frequency])},_destroyOscillator:function(){this._oscNode.stop(0),this._oscNode=null}}),t["noise~"]=u.extend({type:"noise~",outletDefs:[l.DspOutlet],start:function(){this._noiseNode=new r(h.audio.context),this._noiseNode.start(0),this.o(0).setWaa(this._noiseNode,0)},stop:function(){this._noiseNode.stop(0),this._noiseNode.disconnect(),this._noiseNode=null}}),t["line~"]=u.extend({type:"line~",inletDefs:[l.Inlet.extend({init:function(){this._queue=[],this._lastValue=0},message:function(t){var e=this;if(this.obj._offsetNode){var n=t[0],o=a.getTimeTag(t),r=t[1]||0;i(n).to.be.a("number","line~::target"),r&&i(r).to.be.a("number","line~::duration"),this._refreshQueue(h.audio.time);var s=this._pushToQueue(o,n,r);this.obj._offsetNode.offset.cancelScheduledValues(s[0].t1/1e3+1e-6),s.forEach(function(t){t.t1!==t.t2?e.obj._offsetNode.offset.linearRampToValueAtTime(t.v2,t.t2/1e3):e.obj._offsetNode.offset.setValueAtTime(t.v2,t.t2/1e3)})}},_interpolate:function(t,e){return(e-t.t1)*(t.v2-t.v1)/(t.t2-t.t1)+t.v1},_refreshQueue:function(t){if(0!==this._queue.length){for(var e,n,i=0;(e=this._queue[i++])&&t>=e.t2;);n=this._queue.slice(0,i-1),this._queue=this._queue.slice(i-1),0===this._queue.length&&(this._lastValue=n[n.length-1].v2)}},_pushToQueue:function(t,e,n){for(var i,o=0,r=[];(i=this._queue[o++])&&t>=i.t2;);if(this._queue=this._queue.slice(0),this._queue.length){var s=this._queue[this._queue.length-1];t<s.t2?(this._queue=this._queue.slice(0,-1),i={t1:s.t1,v1:s.v1,t2:t,v2:this._interpolate(s,t)},r.push(i),this._queue.push(i)):t>s.t2&&(i={t1:s.t2,v1:s.v2,t2:t,v2:s.v2},r.push(i),this._queue.push(i))}else i={t1:0,v1:this._lastValue,t2:t,v2:this._lastValue},r.push(i),this._queue.push(i);return i={t1:t,v1:this._queue[this._queue.length-1].v2,t2:t+n,v2:e},r.push(i),this._queue.push(i),r}})],outletDefs:[l.DspOutlet],start:function(){this._offsetNode=new o(h.audio.context),this._offsetNode.offset.setValueAtTime(0,0),this.o(0).setWaa(this._offsetNode,0)},stop:function(){this._offsetNode=null}}),t["sig~"]=u.extend({type:"sig~",inletDefs:[l.Inlet.extend({message:function(t){var e=t[0];i(e).to.be.a("number","sig~::value"),this.obj.value=e,this.obj._offsetNode&&this.obj._offsetNode.offset.setValueAtTime(e,a.getTimeTag(t)/1e3)}})],outletDefs:[l.DspOutlet],init:function(t){this.value=t[0]||0},start:function(){this._offsetNode=new o(h.audio.context),this._offsetNode.offset.setValueAtTime(0,0),this.o(0).setWaa(this._offsetNode,0),this.i(0).message([this.value])},stop:function(){this._offsetNode=null}});var n={message:function(t){var e=t[0];i(e).to.be.a("number",this.obj.type+"::frequency"),this.obj.frequency=e,this.obj._filterNode&&this.obj._filterNode.frequency.setValueAtTime(e,a.getTimeTag(t)/1e3)}},f={message:function(t){var e=t[0];i(e).to.be.a("number",this.obj.type+"::Q"),this.obj.Q=e,this.obj._filterNode&&this.obj._filterNode.Q.setValueAtTime(e,a.getTimeTag(t)/1e3)}},p=u.extend({inletDefs:[l.DspInlet,l.Inlet.extend(n)],outletDefs:[l.DspOutlet],init:function(t){this.frequency=t[0]||0},start:function(){this._filterNode=h.audio.context.createBiquadFilter(),this._filterNode.frequency.setValueAtTime(this.frequency,0),this._filterNode.type=this.waaFilterType,this.i(0).setWaa(this._filterNode,0),this.o(0).setWaa(this._filterNode,0),this.i(1).message([this.frequency])},stop:function(){this._filterNode=null}}),d=p.extend({waaFilterType:"bandpass",init:function(t){p.prototype.init.call(this,t),this.Q=t[1]||1},start:function(t){p.prototype.start.call(this,t),this._filterNode.Q.setValueAtTime(this.Q,0),this.i(2).message([this.Q])}});t["lop~"]=p.extend({type:"lop~",waaFilterType:"lowpass"}),t["hip~"]=p.extend({type:"hip~",waaFilterType:"highpass"}),t["bp~"]=d.extend({type:"bp~",inletDefs:[l.DspInlet,l.Inlet.extend(n),l.Inlet.extend(f)]}),t["vcf~"]=d.extend({type:"vcf~",inletDefs:[l.DspInlet,l.DspInlet.extend(n),l.Inlet.extend(f)],start:function(t){d.prototype.start.call(this,t),this.i(1).setWaa(this._filterNode.frequency,0)}});var g=u.extend({outletDefs:[l.DspOutlet],init:function(t){var e=t[0];this.setVal(e||0)},setVal:function(t){i(t).to.be.a("number",this.type+"::val"),this.val=t}}),v={message:function(t){var e=t[0];this.obj.setVal(e),this.hasDspSource()||this._setValNoDsp(e,a.getTimeTag(t))},disconnection:function(t){l.DspInlet.prototype.disconnection.apply(this,arguments),t instanceof l.DspOutlet&&!this.hasDspSource()&&this._setValNoDsp(this.obj.val,0)}};t["*~"]=g.extend({type:"*~",inletDefs:[l.DspInlet,l.DspInlet.extend(v,{_setValNoDsp:function(t,e){this.obj._gainNode&&this.obj._gainNode.gain.setValueAtTime(t,e/1e3)}})],start:function(){this._gainNode=h.audio.context.createGain(),this.i(0).setWaa(this._gainNode,0),this.i(1).setWaa(this._gainNode.gain,0),this.o(0).setWaa(this._gainNode,0),this.i(1).hasDspSource()||this.i(1)._setValNoDsp(this.val,0)},stop:function(){this._gainNode=null}}),t["+~"]=g.extend({type:"+~",inletDefs:[l.DspInlet,l.DspInlet.extend(v,{_setValNoDsp:function(t,e){this.obj._offsetNode&&this.obj._offsetNode.offset.setValueAtTime(t,e/1e3)}})],start:function(){this._offsetNode=new o(h.audio.context),this._gainNode=h.audio.context.createGain(),this._gainNode.gain.value=1,this._offsetNode.offset.value=0,this._offsetNode.connect(this._gainNode,0,0),this.i(0).setWaa(this._gainNode,0),this.i(1).setWaa(this._offsetNode.offset,0),this.o(0).setWaa(this._gainNode,0),this.i(1).hasDspSource()||this.i(1)._setValNoDsp(this.val,0)},stop:function(){this._offsetNode.disconnect(),this._gainNode=null,this._offsetNode=null}}),t["-~"]=g.extend({type:"-~",inletDefs:[l.DspInlet,l.DspInlet.extend(v,{_setValNoDsp:function(t,e){this.obj._offsetNode&&this.obj._offsetNode.offset.setValueAtTime(t,e/1e3)}})],start:function(){this._offsetNode=new o(h.audio.context),this._gainNode=h.audio.context.createGain(),this._negateGainNode=h.audio.context.createGain(),this._gainNode.gain.value=1,this._negateGainNode.gain.value=-1,this._offsetNode.offset.value=0,this._offsetNode.connect(this._negateGainNode,0,0),this._negateGainNode.connect(this._gainNode,0,0),this.i(0).setWaa(this._gainNode,0),this.i(1).setWaa(this._offsetNode.offset,0),this.o(0).setWaa(this._gainNode,0),this.i(1).hasDspSource()||this.i(1)._setValNoDsp(this.val,0)},stop:function(){this._negateGainNode.disconnect(),this._offsetNode.disconnect(),this._gainNode=null,this._negateGainNode=null,this._offsetNode=null}});var y=u.extend({init:function(t){var e=this;this.array=new c.Reference("array"),this._onDataChangedHandler=null,this._eventReceiver=new c.EventReceiver,this._eventReceiver.on(this.array,"changed",function(t,n){n&&n.removeListener("changed:data",e._onDataChangedHandler),t&&(e._onDataChangedHandler=function(){e.dataChanged()},e._eventReceiver.on(t,"changed:data",e._onDataChangedHandler))})},dataChanged:function(){},destroy:function(){this._eventReceiver.destroy(),this.array.destroy()}});t["tabread~"]=t["tabread4~"]=y.extend({type:"tabread~",inletDefs:[l.DspInlet.extend({message:function(t){var e=t[0];"set"===e?this.obj.array.set(t[1]):console.error("unknown method "+e)},connection:function(){l.DspInlet.prototype.connection.apply(this,arguments),this.obj._updateDsp()},disconnection:function(){l.DspInlet.prototype.disconnection.apply(this,arguments),this.obj._updateDsp()}})],outletDefs:[l.DspOutlet],init:function(t){var e=this,n=t[0];y.prototype.init.apply(this,arguments),this._eventReceiver.on(this.array,"changed",function(){e._updateDsp()}),n&&this.array.set(n)},start:function(){this._tableNode=new s(h.audio.context),this._gainNode=h.audio.context.createGain(),this.i(0).setWaa(this._tableNode.position,0),this.o(0).setWaa(this._gainNode,0),this._updateDsp()},stop:function(){this._tableNode=null,this._gainNode=null},dataChanged:function(){this._tableNode&&(this._tableNode.table=this.array.resolved.data)},_updateDsp:function(){this._tableNode&&this.array.resolved&&this.i(0).hasDspSource()?(this._tableNode.table=this.array.resolved.data,this._tableNode.connect(this._gainNode)):this._tableNode&&this._tableNode.disconnect()}}),t["delwrite~"]=u.extend(c.NamedMixin,c.EventEmitterMixin,{type:"delwrite~",inletDefs:[l.DspInlet],init:function(t){var e=t[0],n=t[1];this.maxDelayTime=n||1e3,e&&this.setName(e)},start:function(){this._pipeNode=h.audio.context.createGain(),this.i(0).setWaa(this._pipeNode,0),this.emit("started")},stop:function(){this._pipeNode.disconnect(),this._pipeNode=null},destroy:function(){c.NamedMixin.destroy.apply(this,arguments),c.EventEmitterMixin.destroy.apply(this,arguments)}}),t["delread~"]=t["vd~"]=u.extend({type:"delread~",inletDefs:[l.DspInlet.extend({message:function(t){var e=t[0];this.obj.setDelayTime(e,a.getTimeTag(t))}})],outletDefs:[l.DspOutlet],init:function(t){var e=t[0],n=t[1];this._eventReceiver=new c.EventReceiver,this._delayTime=n||0,this._delWrite=new c.Reference("delwrite~"),this._onDelWriteStarted=null,e&&this._delWrite.set(e)},start:function(){this._createDelay(),this._onDelWriteChanged=function(t,e){h.isStarted&&t&&self._createDelay()},this._eventReceiver.on(this._delWrite,"changed",this._onDelWriteChanged)},stop:function(){this._toSecondsGain=null,this._delayNode.disconnect(),this._delayNode=null,this._delWrite.removeListener("changed",this._onDelWriteChanged),this._onDelWriteChanged=null},destroy:function(){this._delWrite.destroy(),this._eventReceiver.destroy()},setDelayTime:function(t,e){i(t).to.be.a("number"),this._delayTime=t,this._delayNode&&!this.i(0).hasDspSource()&&this._delayNode.delayTime.setValueAtTime(this._delayTime/1e3,e/1e3||0)},_createDelay:function(){this._delayNode&&this._delayNode.disconnect();var t=this._delWrite.resolved?this._delWrite.resolved.maxDelayTime/1e3:1,e=this;if(this._delayNode=h.audio.context.createDelay(t),this._toSecondsGain||(this._toSecondsGain=h.audio.context.createGain(),this._toSecondsGain.gain.value=.001,this.i(0).setWaa(this._toSecondsGain,0)),this._toSecondsGain.connect(this._delayNode.delayTime),this.o(0).setWaa(this._delayNode,0),this.setDelayTime(this._delayTime),this._delWrite.resolved){var n=function(){e._delWrite.resolved._pipeNode.connect(e._delayNode)};this._delWrite.resolved._pipeNode?n():(this._onDelWriteStarted=n,this._eventReceiver.once(this._delWrite.resolved,"started",this._onDelWriteStarted))}}}),t["clip~"]=u.extend({type:"clip~",inletDefs:[l.DspInlet,l.Inlet.extend({message:function(t){var e=t[0];i(e).to.be.a("number","clip~::min"),this.obj.minValue=e,this.obj._updateGains()}}),l.Inlet.extend({message:function(t){var e=t[0];i(e).to.be.a("number","clip~::max"),this.obj.maxValue=e,this.obj._updateGains()}})],outletDefs:[l.DspOutlet],init:function(t){this.minValue=t[0]||0,this.maxValue=t[1]||0},start:function(){this._gainInNode=h.audio.context.createGain(),this._gainOutNode=h.audio.context.createGain(),this._waveShaperNode=h.audio.context.createWaveShaper(),this._gainInNode.connect(this._waveShaperNode),this.i(0).setWaa(this._gainInNode,0),this.o(0).setWaa(this._waveShaperNode,0),this._updateGains()},stop:function(){this._gainInNode=null,this._waveShaperNode=null,this._gainOutNode.disconnect(),this._gainOutNode=null},_updateGains:function(){if(this._waveShaperNode){var t,e=Math.max(Math.abs(this.minValue),Math.abs(this.maxValue)),n=Pd.getSampleRate(),i=new Float32Array(n),o=-e,r=2*e/n;for(t=0;n>t;t++)i[t]=o>=this.minValue&&o<=this.maxValue?o:o>this.maxValue?this.maxValue:this.minValue,o+=r;this._waveShaperNode.curve=i,this._gainInNode.gain.setValueAtTime(0!==e?1/e:0,0)}}}),t["dac~"]=u.extend({type:"dac~",endPoint:!0,inletDefs:[l.DspInlet,l.DspInlet],start:function(){this.i(0).setWaa(h.audio.channels[0],0),this.i(1).setWaa(h.audio.channels[1],0)}})}},{"../core/PdObject":5,"../core/mixins":7,"../core/utils":9,"../global":10,"./portlets":15,chai:25,underscore:58,waaoffsetnode:61,waatablenode:63,waawhitenoisenode:67}],14:[function(t,e,n){var i=t("underscore"),o=t("waaclock"),r=t("../global"),s=n.Audio=function(t){return"undefined"==typeof AudioContext?console.error("this environment doesn't support Web Audio API"):(this.channelCount=t.channelCount,this.setContext(t.audioContext||new AudioContext),r.settings.sampleRate=this.context.sampleRate,void Object.defineProperty(this,"time",{get:function(){return 1e3*this.context.currentTime}}))};s.prototype.start=function(){},s.prototype.stop=function(){},s.prototype.decode=function(t,e){this.context.decodeAudioData(t,function(t){var n,i=[];for(n=0;n<t.numberOfChannels;n++)i.push(t.getChannelData(n));e(null,i)},function(t){e(new Error("error decoding "+t))})},s.prototype.setContext=function(t){var e;for(this.context=t,this._channelMerger=this.context.createChannelMerger(this.channelCount),this._channelMerger.connect(this.context.destination),this.channels=[],e=0;e<this.channelCount;e++)this.channels.push(this.context.createGain()),this.channels[e].connect(this._channelMerger,0,e)};var a=n.Clock=function(t){var e=this;this._audioContext=t.audioContext,this._waaClock=t.waaClock||new o(t.audioContext),this._waaClock.start(),Object.defineProperty(this,"time",{get:function(){return 1e3*e._audioContext.currentTime}})};a.prototype.schedule=function(t,e,n){var o=function(e){void 0==e.timeTag&&(e.timeTag=1e3*e.deadline),t(e)},r=this._waaClock.callbackAtTime(o,e/1e3);return Object.defineProperty(r,"timeTag",{get:function(){return 1e3*this.deadline}}),i.isNumber(n)&&r.repeat(n/1e3),r},a.prototype.unschedule=function(t){t.clear()};var c=n.Storage=function(){};c.prototype.get=function(t,e){var n=new XMLHttpRequest;n.onload=function(t){200===this.status?e(null,this.response):e(new Error("HTTP "+this.status+": "+this.statusText))},n.onerror=function(t){e(t)},n.open("GET",t,!0),n.responseType="arraybuffer",n.send()}},{"../global":10,underscore:58,waaclock:59}],15:[function(t,e,n){var i=t("underscore"),o=(t("chai").expect,t("waawire")),r=t("../core/utils"),s=t("../core/PdObject"),a=t("../core/portlets").Inlet,c=t("../core/portlets").Outlet,u=t("../global"),l="undefined"!=typeof window?window.AudioParam:function(){},h={future:function(t,e){this.message(r.timeTag(e,t))}},f=n.Inlet=a.extend(h),p=n.Outlet=c.extend({message:function(t){this.connections.forEach(function(e){e.message(t)})}}),d=n.DspInlet=a.extend(h,{hasDspSource:function(){return i.filter(this.connections,function(t){return t instanceof g}).length>0},init:function(){this._started=!1},start:function(){this._started=!0},stop:function(){this._waa=null,this._started=!1},setWaa:function(t,e){var n=this;this._waa={node:t,input:e},t instanceof l&&t.setValueAtTime(0,0),this._started&&i.chain(this.connections).filter(function(t){return t instanceof g}).forEach(function(t){t._waaUpdate(n)}).value()}}),g=n.DspOutlet=c.extend({init:function(){this._waaConnections={},this._started=!1},start:function(){this._started=!0,this.connections.forEach(this._waaConnect.bind(this))},stop:function(){this._started=!1,this.connections.forEach(this._waaDisconnect.bind(this)),this._waaConnections={}},connection:function(t){if(!(t instanceof d))throw new Error("can only connect to DSP inlet");this._started&&this._waaConnect(t)},disconnection:function(t){this._started&&this._waaDisconnect(t)},message:function(){throw new Error("dsp outlet received a message")},setWaa:function(t,e){this._waa={node:t,output:e},t instanceof l&&t.setValueAtTime(0,0),this._started&&i.values(this._waaConnections).forEach(function(n){n.swapSource(t,e)})},_waaConnect:function(t){var e=new o(u.audio.context);this._waaConnections[this._getConnectionId(t)]=e,e.connect(this._waa.node,t._waa.node,this._waa.output,t._waa.input)},_waaDisconnect:function(t){var e=this._waaConnections[this._getConnectionId(t)];delete this._waaConnections[this._getConnectionId(t)],e.close()},_waaUpdate:function(t){this._waaConnections[this._getConnectionId(t)].swapDestination(t._waa.node,t._waa.input)},_getConnectionId:function(t){return t.obj.id+":"+t.id}});n.declareObjects=function(t){var e=f.extend({message:function(t){this.obj.outlets[0].message(t)}}),n=d.extend({message:function(t){this.obj.outlets[0].message(t)}}),i=g.extend({message:function(t){this.sinks.forEach(function(e){e.message(t)})}}),o={start:function(){this._gainNode=u.audio.context.createGain(),this._gainNode.gain.value=1,this.i(0).setWaa(this._gainNode,0),this.o(0).setWaa(this._gainNode,0)},stop:function(){this._gainNode=null}};t.outlet=s.extend({type:"outlet",inletDefs:[e],outletDefs:[p.extend({crossPatch:!0})]}),t.inlet=s.extend({type:"inlet",inletDefs:[e.extend({crossPatch:!0})],outletDefs:[p]}),t["outlet~"]=s.extend(o,{type:"outlet~",inletDefs:[n],outletDefs:[i.extend({crossPatch:!0})]}),t["inlet~"]=s.extend(o,{type:"inlet~",inletDefs:[n.extend({crossPatch:!0})],outletDefs:[i]})}},{"../core/PdObject":5,"../core/portlets":8,"../core/utils":9,"../global":10,chai:25,underscore:58,waawire:69}],16:[function(t,e,n){function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);var o,r=typeof t;if("number"===r)o=t>0?t>>>0:0;else if("string"===r)"base64"===e&&(t=j(t)),o=i.byteLength(t,e);else{if("object"!==r||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&k(t.data)&&(t=t.data),o=+t.length>0?Math.floor(+t.length):0}if(this.length>R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");var s;i.TYPED_ARRAY_SUPPORT?s=i._augment(new Uint8Array(o)):(s=this,s.length=o,s._isBuffer=!0);var a;if(i.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)s._set(t);else if(A(t))if(i.isBuffer(t))for(a=0;o>a;a++)s[a]=t.readUInt8(a);else for(a=0;o>a;a++)s[a]=(t[a]%256+256)%256;else if("string"===r)s.write(t,0,e);else if("number"===r&&!i.TYPED_ARRAY_SUPPORT&&!n)for(a=0;o>a;a++)s[a]=0;return s}function o(t,e,n,i){n=Number(n)||0;var o=t.length-n;i?(i=Number(i),i>o&&(i=o)):i=o;var r=e.length;if(r%2!==0)throw new Error("Invalid hex string");i>r/2&&(i=r/2);for(var s=0;i>s;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function r(t,e,n,i){var o=S(T(e),t,n,i);return o}function s(t,e,n,i){var o=S(O(e),t,n,i);return o}function a(t,e,n,i){return s(t,e,n,i)}function c(t,e,n,i){var o=S(M(e),t,n,i);return o}function u(t,e,n,i){var o=S(D(e),t,n,i,2);return o}function l(t,e,n){return I.fromByteArray(0===e&&n===t.length?t:t.slice(e,n))}function h(t,e,n){var i="",o="";n=Math.min(t.length,n);for(var r=e;n>r;r++)t[r]<=127?(i+=C(o)+String.fromCharCode(t[r]),o=""):o+="%"+t[r].toString(16);return i+C(o)}function f(t,e,n){var i="";n=Math.min(t.length,n);for(var o=e;n>o;o++)i+=String.fromCharCode(t[o]);return i}function p(t,e,n){return f(t,e,n)}function d(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var o="",r=e;n>r;r++)o+=E(t[r]);return o}function g(t,e,n){for(var i=t.slice(e,n),o="",r=0;r<i.length;r+=2)o+=String.fromCharCode(i[r]+256*i[r+1]);return o}function v(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function y(t,e,n,o,r,s){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>r||s>e)throw new TypeError("value is out of bounds");if(n+o>t.length)throw new TypeError("index out of range")}function m(t,e,n,i){0>e&&(e=65535+e+1);for(var o=0,r=Math.min(t.length-n,2);r>o;o++)t[n+o]=(e&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function b(t,e,n,i){0>e&&(e=4294967295+e+1);for(var o=0,r=Math.min(t.length-n,4);r>o;o++)t[n+o]=e>>>8*(i?o:3-o)&255}function _(t,e,n,i,o,r){if(e>o||r>e)throw new TypeError("value is out of bounds");if(n+i>t.length)throw new TypeError("index out of range")}function w(t,e,n,i,o){return o||_(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),P.write(t,e,n,i,23,4),n+4}function x(t,e,n,i,o){return o||_(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),P.write(t,e,n,i,52,8),n+8}function j(t){for(t=N(t).replace(q,"");t.length%4!==0;)t+="=";return t}function N(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function A(t){return k(t)||i.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function E(t){return 16>t?"0"+t.toString(16):t.toString(16)}function T(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(127>=i)e.push(i);else{var o=n;i>=55296&&57343>=i&&n++;for(var r=encodeURIComponent(t.slice(o,n+1)).substr(1).split("%"),s=0;s<r.length;s++)e.push(parseInt(r[s],16))}}return e}function O(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function D(t){for(var e,n,i,o=[],r=0;r<t.length;r++)e=t.charCodeAt(r),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function M(t){return I.toByteArray(t)}function S(t,e,n,i,o){o&&(i-=i%o);for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}function C(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var I=t("base64-js"),P=t("ieee754"),k=t("is-array");n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var R=1073741823;i.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var n=t.length,o=e.length,r=0,s=Math.min(n,o);s>r&&t[r]===e[r];r++);return r!==s&&(n=t[r],o=e[r]),o>n?-1:n>o?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!k(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new i(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var o=new i(e),r=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(o,r),r+=s.length}return o},i.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=T(t).length;break;case"base64":n=M(t).length;break;default:n=t.length}return n},i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(t,e,n){var i=!1;if(e>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return d(this,e,n);case"utf8":case"utf-8":return h(this,e,n);case"ascii":return f(this,e,n);case"binary":return p(this,e,n);case"base64":return l(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}},i.prototype.equals=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return i.compare(this,t)},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.write=function(t,e,n,i){if(isFinite(e))isFinite(n)||(i=n,n=void 0);else{var l=i;i=e,e=n,n=l}e=Number(e)||0;var h=this.length-e;n?(n=Number(n),n>h&&(n=h)):n=h,i=String(i||"utf8").toLowerCase();var f;switch(i){case"hex":f=o(this,t,e,n);break;case"utf8":case"utf-8":f=r(this,t,e,n);break;case"ascii":f=s(this,t,e,n);break;case"binary":f=a(this,t,e,n);break;case"base64":f=c(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=u(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+i)}return f},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(t,e){var n=this.length;if(t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t),i.TYPED_ARRAY_SUPPORT)return i._augment(this.subarray(t,e));for(var o=e-t,r=new i(o,void 0,!0),s=0;o>s;s++)r[s]=this[s+t];return r},i.prototype.readUInt8=function(t,e){return e||v(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||v(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||v(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||v(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||v(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readInt8=function(t,e){return e||v(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||v(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||v(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||v(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||v(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||v(t,4,this.length),P.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||v(t,4,this.length),P.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||v(t,8,this.length),P.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||v(t,8,this.length),P.read(this,t,!1,52,8)},i.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):m(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):m(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):b(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},i.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):m(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):m(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):b(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||y(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return w(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return w(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return x(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return x(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,o){var r=this;if(n||(n=0),o||0===o||(o=this.length),e||(e=0),o!==n&&0!==t.length&&0!==r.length){if(n>o)throw new TypeError("sourceEnd < sourceStart");if(0>e||e>=t.length)throw new TypeError("targetStart out of bounds");if(0>n||n>=r.length)throw new TypeError("sourceStart out of bounds");if(0>o||o>r.length)throw new TypeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var s=o-n;if(1e3>s||!i.TYPED_ARRAY_SUPPORT)for(var a=0;s>a;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+s),e)}},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new TypeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new TypeError("start out of bounds");if(0>n||n>this.length)throw new TypeError("end out of bounds");var i;if("number"==typeof t)for(i=e;n>i;i++)this[i]=t;else{var o=T(t.toString()),r=o.length;for(i=e;n>i;i++)this[i]=o[i%r]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var L=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=L.get,t.set=L.set,t.write=L.write,t.toString=L.toString,t.toLocaleString=L.toString,t.toJSON=L.toJSON,t.equals=L.equals,t.compare=L.compare,t.copy=L.copy,t.slice=L.slice,t.readUInt8=L.readUInt8,t.readUInt16LE=L.readUInt16LE,t.readUInt16BE=L.readUInt16BE,t.readUInt32LE=L.readUInt32LE,t.readUInt32BE=L.readUInt32BE,t.readInt8=L.readInt8,t.readInt16LE=L.readInt16LE,t.readInt16BE=L.readInt16BE,t.readInt32LE=L.readInt32LE,t.readInt32BE=L.readInt32BE,t.readFloatLE=L.readFloatLE,t.readFloatBE=L.readFloatBE,t.readDoubleLE=L.readDoubleLE,t.readDoubleBE=L.readDoubleBE,t.writeUInt8=L.writeUInt8,t.writeUInt16LE=L.writeUInt16LE,t.writeUInt16BE=L.writeUInt16BE,t.writeUInt32LE=L.writeUInt32LE,t.writeUInt32BE=L.writeUInt32BE,t.writeInt8=L.writeInt8,t.writeInt16LE=L.writeInt16LE,
t.writeInt16BE=L.writeInt16BE,t.writeInt32LE=L.writeInt32LE,t.writeInt32BE=L.writeInt32BE,t.writeFloatLE=L.writeFloatLE,t.writeFloatBE=L.writeFloatBE,t.writeDoubleLE=L.writeDoubleLE,t.writeDoubleBE=L.writeDoubleBE,t.fill=L.fill,t.inspect=L.inspect,t.toArrayBuffer=L.toArrayBuffer,t};var q=/[^+\/0-9A-z]/g},{"base64-js":17,ieee754:18,"is-array":19}],17:[function(t,e,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===a?63:c>e?-1:c+10>e?e-c+26+26:l+26>e?e-l:u+26>e?e-u+26:void 0}function n(t){function n(t){u[h++]=t}var i,o,s,a,c,u;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;c="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,u=new r(3*t.length/4-c),s=c>0?t.length-4:t.length;var h=0;for(i=0,o=0;s>i;i+=4,o+=3)a=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===c?(a=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&a)):1===c&&(a=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(a>>8&255),n(255&a)),u}function o(t){function e(t){return i.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var o,r,s,a=t.length%3,c="";for(o=0,s=t.length-a;s>o;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],c+=n(r);switch(a){case 1:r=t[t.length-1],c+=e(r>>2),c+=e(r<<4&63),c+="==";break;case 2:r=(t[t.length-2]<<8)+t[t.length-1],c+=e(r>>10),c+=e(r>>4&63),c+=e(r<<2&63),c+="="}return c}var r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),c="0".charCodeAt(0),u="a".charCodeAt(0),l="A".charCodeAt(0);t.toByteArray=n,t.fromByteArray=o}("undefined"==typeof n?this.base64js={}:n)},{}],18:[function(t,e,n){n.read=function(t,e,n,i,o){var r,s,a=8*o-i-1,c=(1<<a)-1,u=c>>1,l=-7,h=n?o-1:0,f=n?-1:1,p=t[e+h];for(h+=f,r=p&(1<<-l)-1,p>>=-l,l+=a;l>0;r=256*r+t[e+h],h+=f,l-=8);for(s=r&(1<<-l)-1,r>>=-l,l+=i;l>0;s=256*s+t[e+h],h+=f,l-=8);if(0===r)r=1-u;else{if(r===c)return s?0/0:(p?-1:1)*(1/0);s+=Math.pow(2,i),r-=u}return(p?-1:1)*s*Math.pow(2,r-i)},n.write=function(t,e,n,i,o,r){var s,a,c,u=8*r-o-1,l=(1<<u)-1,h=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:r-1,d=i?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-s))<1&&(s--,c*=2),e+=s+h>=1?f/c:f*Math.pow(2,1-h),e*c>=2&&(s++,c/=2),s+h>=l?(a=0,s=l):s+h>=1?(a=(e*c-1)*Math.pow(2,o),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,o),s=0));o>=8;t[n+p]=255&a,p+=d,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*g}},{}],19:[function(t,e,n){var i=Array.isArray,o=Object.prototype.toString;e.exports=i||function(t){return!!t&&"[object Array]"==o.call(t)}},{}],20:[function(t,e,n){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function o(t){return"function"==typeof t}function r(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!r(t)||0>t||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,r,c,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(o(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,r=new Array(i-1),c=1;i>c;c++)r[c-1]=arguments[c];n.apply(this,r)}else if(s(n)){for(i=arguments.length,r=new Array(i-1),c=1;i>c;c++)r[c-1]=arguments[c];for(u=n.slice(),i=u.length,c=0;i>c;c++)u[c].apply(this,r)}return!0},i.prototype.addListener=function(t,e){var n;if(!o(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,o(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!o(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,r,a;if(!o(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],r=n.length,i=-1,n===e||o(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=r;a-->0;)if(n[a]===e||n[a].listener&&n[a].listener===e){i=a;break}if(0>i)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],o(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?o(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?o(t._events[e])?1:t._events[e].length:0}},{}],21:[function(t,e,n){e.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],22:[function(t,e,n){function i(){}var o=e.exports={};o.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var i=[];if(e){var o=document.createElement("div"),r=new MutationObserver(function(){var t=i.slice();i.length=0,t.forEach(function(t){t()})});return r.observe(o,{attributes:!0}),function(t){i.length||o.setAttribute("yes","no"),i.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),i.length>0)){var n=i.shift();n()}},!0),function(t){i.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),o.title="browser",o.browser=!0,o.env={},o.argv=[],o.on=i,o.addListener=i,o.once=i,o.off=i,o.removeListener=i,o.removeAllListeners=i,o.emit=i,o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],23:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],24:[function(t,e,n){(function(e,i){function o(t,e){var i={seen:[],stylize:s};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),g(e)?i.showHidden=e:e&&n._extend(i,e),w(i.showHidden)&&(i.showHidden=!1),w(i.depth)&&(i.depth=2),w(i.colors)&&(i.colors=!1),w(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=r),c(i,t,i.depth)}function r(t,e){var n=o.styles[e];return n?"["+o.colors[n][0]+"m"+t+"["+o.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function c(t,e,i){if(t.customInspect&&e&&E(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var o=e.inspect(i,t);return b(o)||(o=c(t,o,i)),o}var r=u(t,e);if(r)return r;var s=Object.keys(e),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),A(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(E(e)){var v=e.name?": "+e.name:"";return t.stylize("[Function"+v+"]","special")}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(N(e))return t.stylize(Date.prototype.toString.call(e),"date");if(A(e))return l(e)}var y="",m=!1,_=["{","}"];if(d(e)&&(m=!0,_=["[","]"]),E(e)){var w=e.name?": "+e.name:"";y=" [Function"+w+"]"}if(x(e)&&(y=" "+RegExp.prototype.toString.call(e)),N(e)&&(y=" "+Date.prototype.toUTCString.call(e)),A(e)&&(y=" "+l(e)),0===s.length&&(!m||0==e.length))return _[0]+y+_[1];if(0>i)return x(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var j;return j=m?h(t,e,i,g,s):s.map(function(n){return f(t,e,i,g,n,m)}),t.seen.pop(),p(j,y,_)}function u(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return m(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,o){for(var r=[],s=0,a=e.length;a>s;++s)r.push(S(e,String(s))?f(t,e,n,i,String(s),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||r.push(f(t,e,n,i,o,!0))}),r}function f(t,e,n,i,o,r){var s,a,u;if(u=Object.getOwnPropertyDescriptor(e,o)||{value:e[o]},u.get?a=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),S(i,o)||(s="["+o+"]"),a||(t.seen.indexOf(u.value)<0?(a=v(n)?c(t,u.value,null):c(t,u.value,n-1),a.indexOf("\n")>-1&&(a=r?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(r&&o.match(/^\d+$/))return a;s=JSON.stringify(""+o),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var i=0,o=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return null==t}function m(t){return"number"==typeof t}function b(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return j(t)&&"[object RegExp]"===O(t)}function j(t){return"object"==typeof t&&null!==t}function N(t){return j(t)&&"[object Date]"===O(t)}function A(t){return j(t)&&("[object Error]"===O(t)||t instanceof Error)}function E(t){return"function"==typeof t}function T(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function O(t){return Object.prototype.toString.call(t)}function D(t){return 10>t?"0"+t.toString(10):t.toString(10)}function M(){var t=new Date,e=[D(t.getHours()),D(t.getMinutes()),D(t.getSeconds())].join(":");return[t.getDate(),k[t.getMonth()],e].join(" ")}function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var C=/%[sdj%]/g;n.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(o(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,r=i.length,s=String(t).replace(C,function(t){if("%%"===t)return"%";if(n>=r)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),a=i[n];r>n;a=i[++n])s+=v(a)||!j(a)?" "+a:" "+o(a);return s},n.deprecate=function(t,o){function r(){if(!s){if(e.throwDeprecation)throw new Error(o);e.traceDeprecation?console.trace(o):console.error(o),s=!0}return t.apply(this,arguments)}if(w(i.process))return function(){return n.deprecate(t,o).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return r};var I,P={};n.debuglog=function(t){if(w(I)&&(I=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!P[t])if(new RegExp("\\b"+t+"\\b","i").test(I)){var i=e.pid;P[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,i,e)}}else P[t]=function(){};return P[t]},n.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=d,n.isBoolean=g,n.isNull=v,n.isNullOrUndefined=y,n.isNumber=m,n.isString=b,n.isSymbol=_,n.isUndefined=w,n.isRegExp=x,n.isObject=j,n.isDate=N,n.isError=A,n.isFunction=E,n.isPrimitive=T,n.isBuffer=t("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",M(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!j(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":23,_process:22,inherits:21}],25:[function(t,e,n){e.exports=t("./lib/chai")},{"./lib/chai":26}],26:[function(t,e,n){var i=[],n=e.exports={};n.version="1.10.0",n.AssertionError=t("assertion-error");var o=t("./chai/utils");n.use=function(t){return~i.indexOf(t)||(t(this,o),i.push(t)),this};var r=t("./chai/config");n.config=r;var s=t("./chai/assertion");n.use(s);var a=t("./chai/core/assertions");n.use(a);var c=t("./chai/interface/expect");n.use(c);var u=t("./chai/interface/should");n.use(u);var l=t("./chai/interface/assert");n.use(l)},{"./chai/assertion":27,"./chai/config":28,"./chai/core/assertions":29,"./chai/interface/assert":30,"./chai/interface/expect":31,"./chai/interface/should":32,"./chai/utils":43,"assertion-error":52}],27:[function(t,e,n){var i=t("./config"),o=function(){};e.exports=function(t,e){function n(t,e,n){s(this,"ssfi",n||arguments.callee),s(this,"object",t),s(this,"message",e)}var r=t.AssertionError,s=e.flag;t.Assertion=n,Object.defineProperty(n,"includeStack",{get:function(){return console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),i.includeStack},set:function(t){console.warn("Assertion.includeStack is deprecated, use chai.config.includeStack instead."),i.includeStack=t}}),Object.defineProperty(n,"showDiff",{get:function(){return console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),i.showDiff},set:function(t){console.warn("Assertion.showDiff is deprecated, use chai.config.showDiff instead."),i.showDiff=t}}),n.addProperty=function(t,n){e.addProperty(this.prototype,t,n)},n.addMethod=function(t,n){e.addMethod(this.prototype,t,n)},n.addChainableMethod=function(t,n,i){e.addChainableMethod(this.prototype,t,n,i)},n.addChainableNoop=function(t,n){e.addChainableMethod(this.prototype,t,o,n)},n.overwriteProperty=function(t,n){e.overwriteProperty(this.prototype,t,n)},n.overwriteMethod=function(t,n){e.overwriteMethod(this.prototype,t,n)},n.overwriteChainableMethod=function(t,n,i){e.overwriteChainableMethod(this.prototype,t,n,i)},n.prototype.assert=function(t,n,o,a,c,u){var l=e.test(this,arguments);if(!0!==u&&(u=!1),!0!==i.showDiff&&(u=!1),!l){var n=e.getMessage(this,arguments),h=e.getActual(this,arguments);throw new r(n,{actual:h,expected:a,showDiff:u},i.includeStack?this.assert:s(this,"ssfi"))}},Object.defineProperty(n.prototype,"_obj",{get:function(){return s(this,"object")},set:function(t){s(this,"object",t)}})}},{"./config":28}],28:[function(t,e,n){e.exports={includeStack:!1,showDiff:!0,truncateThreshold:40}},{}],29:[function(t,e,n){e.exports=function(t,e){function n(t,n){n&&_(this,"message",n),t=t.toLowerCase();var i=_(this,"object"),o=~["a","e","i","o","u"].indexOf(t.charAt(0))?"an ":"a ";this.assert(t===e.type(i),"expected #{this} to be "+o+t,"expected #{this} not to be "+o+t)}function i(){_(this,"contains",!0)}function o(t,n){n&&_(this,"message",n);var i=_(this,"object"),o=!1;if("array"===e.type(i)&&"object"===e.type(t)){for(var r in i)if(e.eql(i[r],t)){o=!0;break}}else if("object"===e.type(t)){if(!_(this,"negate")){for(var s in t)new b(i).property(s,t[s]);return}var a={};for(var s in t)a[s]=i[s];o=e.eql(a,t)}else o=i&&~i.indexOf(t);this.assert(o,"expected #{this} to include "+e.inspect(t),"expected #{this} to not include "+e.inspect(t))}function r(){var t=_(this,"object"),e=Object.prototype.toString.call(t);this.assert("[object Arguments]"===e,"expected #{this} to be arguments but got "+e,"expected #{this} to not be arguments")}function s(t,e){e&&_(this,"message",e);var n=_(this,"object");return _(this,"deep")?this.eql(t):void this.assert(t===n,"expected #{this} to equal #{exp}","expected #{this} to not equal #{exp}",t,this._obj,!0)}function a(t,n){n&&_(this,"message",n),this.assert(e.eql(t,_(this,"object")),"expected #{this} to deeply equal #{exp}","expected #{this} to not deeply equal #{exp}",t,this._obj,!0)}function c(t,e){e&&_(this,"message",e);var n=_(this,"object");if(_(this,"doLength")){new b(n,e).to.have.property("length");var i=n.length;this.assert(i>t,"expected #{this} to have a length above #{exp} but got #{act}","expected #{this} to not have a length above #{exp}",t,i)}else this.assert(n>t,"expected #{this} to be above "+t,"expected #{this} to be at most "+t)}function u(t,e){e&&_(this,"message",e);var n=_(this,"object");if(_(this,"doLength")){new b(n,e).to.have.property("length");var i=n.length;this.assert(i>=t,"expected #{this} to have a length at least #{exp} but got #{act}","expected #{this} to have a length below #{exp}",t,i)}else this.assert(n>=t,"expected #{this} to be at least "+t,"expected #{this} to be below "+t)}function l(t,e){e&&_(this,"message",e);var n=_(this,"object");if(_(this,"doLength")){new b(n,e).to.have.property("length");var i=n.length;this.assert(t>i,"expected #{this} to have a length below #{exp} but got #{act}","expected #{this} to not have a length below #{exp}",t,i)}else this.assert(t>n,"expected #{this} to be below "+t,"expected #{this} to be at least "+t)}function h(t,e){e&&_(this,"message",e);var n=_(this,"object");if(_(this,"doLength")){new b(n,e).to.have.property("length");var i=n.length;this.assert(t>=i,"expected #{this} to have a length at most #{exp} but got #{act}","expected #{this} to have a length above #{exp}",t,i)}else this.assert(t>=n,"expected #{this} to be at most "+t,"expected #{this} to be above "+t)}function f(t,n){n&&_(this,"message",n);var i=e.getName(t);this.assert(_(this,"object")instanceof t,"expected #{this} to be an instance of "+i,"expected #{this} to not be an instance of "+i)}function p(t,n){n&&_(this,"message",n);var i=_(this,"object");this.assert(i.hasOwnProperty(t),"expected #{this} to have own property "+e.inspect(t),"expected #{this} to not have own property "+e.inspect(t))}function d(){_(this,"doLength",!0)}function g(t,e){e&&_(this,"message",e);var n=_(this,"object");new b(n,e).to.have.property("length");var i=n.length;this.assert(i==t,"expected #{this} to have a length of #{exp} but got #{act}","expected #{this} to not have a length of #{act}",t,i)}function v(t){var n,i=_(this,"object"),o=!0;if(t=t instanceof Array?t:Array.prototype.slice.call(arguments),!t.length)throw new Error("keys required");var r=Object.keys(i),s=t,a=t.length;if(o=t.every(function(t){return~r.indexOf(t)}),_(this,"negate")||_(this,"contains")||(o=o&&t.length==r.length),a>1){t=t.map(function(t){return e.inspect(t)});var c=t.pop();n=t.join(", ")+", and "+c}else n=e.inspect(t[0]);n=(a>1?"keys ":"key ")+n,n=(_(this,"contains")?"contain ":"have ")+n,this.assert(o,"expected #{this} to "+n,"expected #{this} to not "+n,s.sort(),r.sort(),!0)}function y(t,n,i){i&&_(this,"message",i);var o=_(this,"object");new b(o,i).is.a("function");var r=!1,s=null,a=null,c=null;0===arguments.length?(n=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)?(n=t,t=null):t&&t instanceof Error?(s=t,t=null,n=null):"function"==typeof t?(a=t.prototype.name||t.name,"Error"===a&&t!==Error&&(a=(new t).name)):t=null;try{o()}catch(u){if(s)return this.assert(u===s,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp}",s instanceof Error?s.toString():s,u instanceof Error?u.toString():u),_(this,"object",u),this;if(t&&(this.assert(u instanceof t,"expected #{this} to throw #{exp} but #{act} was thrown","expected #{this} to not throw #{exp} but #{act} was thrown",a,u instanceof Error?u.toString():u),!n))return _(this,"object",u),this;var l="object"===e.type(u)&&"message"in u?u.message:""+u;if(null!=l&&n&&n instanceof RegExp)return this.assert(n.exec(l),"expected #{this} to throw error matching #{exp} but got #{act}","expected #{this} to throw error not matching #{exp}",n,l),_(this,"object",u),this;if(null!=l&&n&&"string"==typeof n)return this.assert(~l.indexOf(n),"expected #{this} to throw error including #{exp} but got #{act}","expected #{this} to throw error not including #{act}",n,l),_(this,"object",u),this;r=!0,c=u}var h="",f=null!==a?a:s?"#{exp}":"an error";r&&(h=" but #{act} was thrown"),this.assert(r===!0,"expected #{this} to throw "+f+h,"expected #{this} to not throw "+f+h,s instanceof Error?s.toString():s,c instanceof Error?c.toString():c),_(this,"object",c)}function m(t,e,n){return t.every(function(t){return n?e.some(function(e){return n(t,e)}):-1!==e.indexOf(t)})}var b=t.Assertion,_=(Object.prototype.toString,e.flag);["to","be","been","is","and","has","have","with","that","at","of","same"].forEach(function(t){b.addProperty(t,function(){return this})}),b.addProperty("not",function(){_(this,"negate",!0)}),b.addProperty("deep",function(){_(this,"deep",!0)}),b.addChainableMethod("an",n),b.addChainableMethod("a",n),b.addChainableMethod("include",o,i),b.addChainableMethod("contain",o,i),b.addChainableNoop("ok",function(){this.assert(_(this,"object"),"expected #{this} to be truthy","expected #{this} to be falsy")}),b.addChainableNoop("true",function(){this.assert(!0===_(this,"object"),"expected #{this} to be true","expected #{this} to be false",this.negate?!1:!0)}),b.addChainableNoop("false",function(){this.assert(!1===_(this,"object"),"expected #{this} to be false","expected #{this} to be true",this.negate?!0:!1)}),b.addChainableNoop("null",function(){this.assert(null===_(this,"object"),"expected #{this} to be null","expected #{this} not to be null")}),b.addChainableNoop("undefined",function(){this.assert(void 0===_(this,"object"),"expected #{this} to be undefined","expected #{this} not to be undefined")}),b.addChainableNoop("exist",function(){this.assert(null!=_(this,"object"),"expected #{this} to exist","expected #{this} to not exist")}),b.addChainableNoop("empty",function(){var t=_(this,"object"),e=t;Array.isArray(t)||"string"==typeof object?e=t.length:"object"==typeof t&&(e=Object.keys(t).length),this.assert(!e,"expected #{this} to be empty","expected #{this} not to be empty")}),b.addChainableNoop("arguments",r),b.addChainableNoop("Arguments",r),b.addMethod("equal",s),b.addMethod("equals",s),b.addMethod("eq",s),b.addMethod("eql",a),b.addMethod("eqls",a),b.addMethod("above",c),b.addMethod("gt",c),b.addMethod("greaterThan",c),b.addMethod("least",u),b.addMethod("gte",u),b.addMethod("below",l),b.addMethod("lt",l),b.addMethod("lessThan",l),b.addMethod("most",h),b.addMethod("lte",h),b.addMethod("within",function(t,e,n){n&&_(this,"message",n);var i=_(this,"object"),o=t+".."+e;if(_(this,"doLength")){new b(i,n).to.have.property("length");var r=i.length;this.assert(r>=t&&e>=r,"expected #{this} to have a length within "+o,"expected #{this} to not have a length within "+o)}else this.assert(i>=t&&e>=i,"expected #{this} to be within "+o,"expected #{this} to not be within "+o)}),b.addMethod("instanceof",f),b.addMethod("instanceOf",f),b.addMethod("property",function(t,n,i){i&&_(this,"message",i);var o=_(this,"deep")?"deep property ":"property ",r=_(this,"negate"),s=_(this,"object"),a=_(this,"deep")?e.getPathValue(t,s):s[t];if(r&&void 0!==n){if(void 0===a)throw i=null!=i?i+": ":"",new Error(i+e.inspect(s)+" has no "+o+e.inspect(t))}else this.assert(void 0!==a,"expected #{this} to have a "+o+e.inspect(t),"expected #{this} to not have "+o+e.inspect(t));void 0!==n&&this.assert(n===a,"expected #{this} to have a "+o+e.inspect(t)+" of #{exp}, but got #{act}","expected #{this} to not have a "+o+e.inspect(t)+" of #{act}",n,a),_(this,"object",a)}),b.addMethod("ownProperty",p),b.addMethod("haveOwnProperty",p),b.addChainableMethod("length",g,d),b.addMethod("lengthOf",g),b.addMethod("match",function(t,e){e&&_(this,"message",e);var n=_(this,"object");this.assert(t.exec(n),"expected #{this} to match "+t,"expected #{this} not to match "+t)}),b.addMethod("string",function(t,n){n&&_(this,"message",n);var i=_(this,"object");new b(i,n).is.a("string"),this.assert(~i.indexOf(t),"expected #{this} to contain "+e.inspect(t),"expected #{this} to not contain "+e.inspect(t))}),b.addMethod("keys",v),b.addMethod("key",v),b.addMethod("throw",y),b.addMethod("throws",y),b.addMethod("Throw",y),b.addMethod("respondTo",function(t,n){n&&_(this,"message",n);var i=_(this,"object"),o=_(this,"itself"),r="function"!==e.type(i)||o?i[t]:i.prototype[t];this.assert("function"==typeof r,"expected #{this} to respond to "+e.inspect(t),"expected #{this} to not respond to "+e.inspect(t))}),b.addProperty("itself",function(){_(this,"itself",!0)}),b.addMethod("satisfy",function(t,n){n&&_(this,"message",n);var i=_(this,"object"),o=t(i);this.assert(o,"expected #{this} to satisfy "+e.objDisplay(t),"expected #{this} to not satisfy"+e.objDisplay(t),this.negate?!1:!0,o)}),b.addMethod("closeTo",function(t,n,i){i&&_(this,"message",i);var o=_(this,"object");if(new b(o,i).is.a("number"),"number"!==e.type(t)||"number"!==e.type(n))throw new Error("the arguments to closeTo must be numbers");this.assert(Math.abs(o-t)<=n,"expected #{this} to be close to "+t+" +/- "+n,"expected #{this} not to be close to "+t+" +/- "+n)}),b.addMethod("members",function(t,n){n&&_(this,"message",n);var i=_(this,"object");new b(i).to.be.an("array"),new b(t).to.be.an("array");var o=_(this,"deep")?e.eql:void 0;return _(this,"contains")?this.assert(m(t,i,o),"expected #{this} to be a superset of #{act}","expected #{this} to not be a superset of #{act}",i,t):void this.assert(m(i,t,o)&&m(t,i,o),"expected #{this} to have the same members as #{act}","expected #{this} to not have the same members as #{act}",i,t)})}},{}],30:[function(require,module,exports){module.exports=function(chai,util){var Assertion=chai.Assertion,flag=util.flag,assert=chai.assert=function(t,e){var n=new Assertion(null,null,chai.assert);n.assert(t,e,"[ negation message unavailable ]")};assert.fail=function(t,e,n,i){throw n=n||"assert.fail()",new chai.AssertionError(n,{actual:t,expected:e,operator:i},assert.fail)},assert.ok=function(t,e){new Assertion(t,e).is.ok},assert.notOk=function(t,e){new Assertion(t,e).is.not.ok},assert.equal=function(t,e,n){var i=new Assertion(t,n,assert.equal);i.assert(e==flag(i,"object"),"expected #{this} to equal #{exp}","expected #{this} to not equal #{act}",e,t)},assert.notEqual=function(t,e,n){var i=new Assertion(t,n,assert.notEqual);i.assert(e!=flag(i,"object"),"expected #{this} to not equal #{exp}","expected #{this} to equal #{act}",e,t)},assert.strictEqual=function(t,e,n){new Assertion(t,n).to.equal(e)},assert.notStrictEqual=function(t,e,n){new Assertion(t,n).to.not.equal(e)},assert.deepEqual=function(t,e,n){new Assertion(t,n).to.eql(e)},assert.notDeepEqual=function(t,e,n){new Assertion(t,n).to.not.eql(e)},assert.isTrue=function(t,e){new Assertion(t,e).is["true"]},assert.isFalse=function(t,e){new Assertion(t,e).is["false"]},assert.isNull=function(t,e){new Assertion(t,e).to.equal(null)},assert.isNotNull=function(t,e){new Assertion(t,e).to.not.equal(null)},assert.isUndefined=function(t,e){new Assertion(t,e).to.equal(void 0)},assert.isDefined=function(t,e){new Assertion(t,e).to.not.equal(void 0)},assert.isFunction=function(t,e){new Assertion(t,e).to.be.a("function")},assert.isNotFunction=function(t,e){new Assertion(t,e).to.not.be.a("function")},assert.isObject=function(t,e){new Assertion(t,e).to.be.a("object")},assert.isNotObject=function(t,e){new Assertion(t,e).to.not.be.a("object")},assert.isArray=function(t,e){new Assertion(t,e).to.be.an("array")},assert.isNotArray=function(t,e){new Assertion(t,e).to.not.be.an("array")},assert.isString=function(t,e){new Assertion(t,e).to.be.a("string")},assert.isNotString=function(t,e){new Assertion(t,e).to.not.be.a("string")},assert.isNumber=function(t,e){new Assertion(t,e).to.be.a("number")},assert.isNotNumber=function(t,e){new Assertion(t,e).to.not.be.a("number")},assert.isBoolean=function(t,e){new Assertion(t,e).to.be.a("boolean")},assert.isNotBoolean=function(t,e){new Assertion(t,e).to.not.be.a("boolean")},assert.typeOf=function(t,e,n){new Assertion(t,n).to.be.a(e)},assert.notTypeOf=function(t,e,n){new Assertion(t,n).to.not.be.a(e)},assert.instanceOf=function(t,e,n){new Assertion(t,n).to.be.instanceOf(e)},assert.notInstanceOf=function(t,e,n){new Assertion(t,n).to.not.be.instanceOf(e)},assert.include=function(t,e,n){new Assertion(t,n,assert.include).include(e)},assert.notInclude=function(t,e,n){new Assertion(t,n,assert.notInclude).not.include(e)},assert.match=function(t,e,n){new Assertion(t,n).to.match(e)},assert.notMatch=function(t,e,n){new Assertion(t,n).to.not.match(e)},assert.property=function(t,e,n){new Assertion(t,n).to.have.property(e)},assert.notProperty=function(t,e,n){new Assertion(t,n).to.not.have.property(e)},assert.deepProperty=function(t,e,n){new Assertion(t,n).to.have.deep.property(e)},assert.notDeepProperty=function(t,e,n){new Assertion(t,n).to.not.have.deep.property(e)},assert.propertyVal=function(t,e,n,i){new Assertion(t,i).to.have.property(e,n)},assert.propertyNotVal=function(t,e,n,i){new Assertion(t,i).to.not.have.property(e,n)},assert.deepPropertyVal=function(t,e,n,i){new Assertion(t,i).to.have.deep.property(e,n)},assert.deepPropertyNotVal=function(t,e,n,i){new Assertion(t,i).to.not.have.deep.property(e,n)},assert.lengthOf=function(t,e,n){new Assertion(t,n).to.have.length(e)},assert.Throw=function(t,e,n,i){("string"==typeof e||e instanceof RegExp)&&(n=e,e=null);var o=new Assertion(t,i).to.Throw(e,n);return flag(o,"object")},assert.doesNotThrow=function(t,e,n){"string"==typeof e&&(n=e,e=null),new Assertion(t,n).to.not.Throw(e)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===flag(test,"object"),"expected "+util.inspect(val)+" to be "+operator+" "+util.inspect(val2),"expected "+util.inspect(val)+" to not be "+operator+" "+util.inspect(val2))},assert.closeTo=function(t,e,n,i){new Assertion(t,i).to.be.closeTo(e,n)},assert.sameMembers=function(t,e,n){new Assertion(t,n).to.have.same.members(e);

},assert.includeMembers=function(t,e,n){new Assertion(t,n).to.include.members(e)},assert.ifError=function(t,e){new Assertion(t,e).to.not.be.ok},function t(e,n){return assert[n]=assert[e],t}("Throw","throw")("Throw","throws")}},{}],31:[function(t,e,n){e.exports=function(t,e){t.expect=function(e,n){return new t.Assertion(e,n)}}},{}],32:[function(t,e,n){e.exports=function(t,e){function n(){function t(){return this instanceof String||this instanceof Number?new i(this.constructor(this),null,t):this instanceof Boolean?new i(1==this,null,t):new i(this,null,t)}function e(t){Object.defineProperty(this,"should",{value:t,enumerable:!0,configurable:!0,writable:!0})}Object.defineProperty(Object.prototype,"should",{set:e,get:t,configurable:!0});var n={};return n.equal=function(t,e,n){new i(t,n).to.equal(e)},n.Throw=function(t,e,n,o){new i(t,o).to.Throw(e,n)},n.exist=function(t,e){new i(t,e).to.exist},n.not={},n.not.equal=function(t,e,n){new i(t,n).to.not.equal(e)},n.not.Throw=function(t,e,n,o){new i(t,o).to.not.Throw(e,n)},n.not.exist=function(t,e){new i(t,e).to.not.exist},n["throw"]=n.Throw,n.not["throw"]=n.not.Throw,n}var i=t.Assertion;t.should=n,t.Should=n}},{}],33:[function(t,e,n){var i=t("./transferFlags"),o=t("./flag"),r=t("../config"),s="__proto__"in Object,a=/^(?:length|name|arguments|caller)$/,c=Function.prototype.call,u=Function.prototype.apply;e.exports=function(t,e,n,l){"function"!=typeof l&&(l=function(){});var h={method:n,chainingBehavior:l};t.__methods||(t.__methods={}),t.__methods[e]=h,Object.defineProperty(t,e,{get:function(){h.chainingBehavior.call(this);var e=function f(){var t=o(this,"ssfi");t&&r.includeStack===!1&&o(this,"ssfi",f);var e=h.method.apply(this,arguments);return void 0===e?this:e};if(s){var n=e.__proto__=Object.create(this);n.call=c,n.apply=u}else{var l=Object.getOwnPropertyNames(t);l.forEach(function(n){if(!a.test(n)){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i)}})}return i(this,e),e},configurable:!0})}},{"../config":28,"./flag":36,"./transferFlags":50}],34:[function(t,e,n){var i=t("../config"),o=t("./flag");e.exports=function(t,e,n){t[e]=function(){var r=o(this,"ssfi");r&&i.includeStack===!1&&o(this,"ssfi",t[e]);var s=n.apply(this,arguments);return void 0===s?this:s}}},{"../config":28,"./flag":36}],35:[function(t,e,n){e.exports=function(t,e,n){Object.defineProperty(t,e,{get:function(){var t=n.call(this);return void 0===t?this:t},configurable:!0})}},{}],36:[function(t,e,n){e.exports=function(t,e,n){var i=t.__flags||(t.__flags=Object.create(null));return 3!==arguments.length?i[e]:void(i[e]=n)}},{}],37:[function(t,e,n){e.exports=function(t,e){return e.length>4?e[4]:t._obj}},{}],38:[function(t,e,n){e.exports=function(t){var e=[];for(var n in t)e.push(n);return e}},{}],39:[function(t,e,n){var i=t("./flag"),o=t("./getActual"),r=(t("./inspect"),t("./objDisplay"));e.exports=function(t,e){var n=i(t,"negate"),s=i(t,"object"),a=e[3],c=o(t,e),u=n?e[2]:e[1],l=i(t,"message");return"function"==typeof u&&(u=u()),u=u||"",u=u.replace(/#{this}/g,r(s)).replace(/#{act}/g,r(c)).replace(/#{exp}/g,r(a)),l?l+": "+u:u}},{"./flag":36,"./getActual":37,"./inspect":44,"./objDisplay":45}],40:[function(t,e,n){e.exports=function(t){if(t.name)return t.name;var e=/^\s?function ([^(]*)\(/.exec(t);return e&&e[1]?e[1]:""}},{}],41:[function(t,e,n){function i(t){var e=t.replace(/\[/g,".["),n=e.match(/(\\\.|[^.]+?)+/g);return n.map(function(t){var e=/\[(\d+)\]$/,n=e.exec(t);return n?{i:parseFloat(n[1])}:{p:t}})}function o(t,e){for(var n,i=e,o=0,r=t.length;r>o;o++){var s=t[o];i?("undefined"!=typeof s.p?i=i[s.p]:"undefined"!=typeof s.i&&(i=i[s.i]),o==r-1&&(n=i)):n=void 0}return n}e.exports=function(t,e){var n=i(t);return o(n,e)}},{}],42:[function(t,e,n){e.exports=function(t){function e(t){-1===n.indexOf(t)&&n.push(t)}for(var n=Object.getOwnPropertyNames(subject),i=Object.getPrototypeOf(subject);null!==i;)Object.getOwnPropertyNames(i).forEach(e),i=Object.getPrototypeOf(i);return n}},{}],43:[function(t,e,n){var n=e.exports={};n.test=t("./test"),n.type=t("./type"),n.getMessage=t("./getMessage"),n.getActual=t("./getActual"),n.inspect=t("./inspect"),n.objDisplay=t("./objDisplay"),n.flag=t("./flag"),n.transferFlags=t("./transferFlags"),n.eql=t("deep-eql"),n.getPathValue=t("./getPathValue"),n.getName=t("./getName"),n.addProperty=t("./addProperty"),n.addMethod=t("./addMethod"),n.overwriteProperty=t("./overwriteProperty"),n.overwriteMethod=t("./overwriteMethod"),n.addChainableMethod=t("./addChainableMethod"),n.overwriteChainableMethod=t("./overwriteChainableMethod")},{"./addChainableMethod":33,"./addMethod":34,"./addProperty":35,"./flag":36,"./getActual":37,"./getMessage":39,"./getName":40,"./getPathValue":41,"./inspect":44,"./objDisplay":45,"./overwriteChainableMethod":46,"./overwriteMethod":47,"./overwriteProperty":48,"./test":49,"./transferFlags":50,"./type":51,"deep-eql":53}],44:[function(t,e,n){function i(t,e,n,i){var r={showHidden:e,seen:[],stylize:function(t){return t}};return o(r,t,"undefined"==typeof n?2:n)}function o(t,e,i){if(e&&"function"==typeof e.inspect&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var d=e.inspect(i);return"string"!=typeof d&&(d=o(t,d,i)),d}var b=r(t,e);if(b)return b;if(m(e)){if("outerHTML"in e)return e.outerHTML;try{if(document.xmlVersion){var _=new XMLSerializer;return _.serializeToString(e)}var w="http://www.w3.org/1999/xhtml",x=document.createElementNS(w,"_");return x.appendChild(e.cloneNode(!1)),html=x.innerHTML.replace("><",">"+e.innerHTML+"<"),x.innerHTML="",html}catch(j){}}var N=y(e),A=t.showHidden?v(e):N;if(0===A.length||p(e)&&(1===A.length&&"stack"===A[0]||2===A.length&&"description"===A[0]&&"stack"===A[1])){if("function"==typeof e){var E=g(e),T=E?": "+E:"";return t.stylize("[Function"+T+"]","special")}if(h(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(f(e))return t.stylize(Date.prototype.toUTCString.call(e),"date");if(p(e))return s(e)}var O="",D=!1,M=["{","}"];if(l(e)&&(D=!0,M=["[","]"]),"function"==typeof e){var E=g(e),T=E?": "+E:"";O=" [Function"+T+"]"}if(h(e)&&(O=" "+RegExp.prototype.toString.call(e)),f(e)&&(O=" "+Date.prototype.toUTCString.call(e)),p(e))return s(e);if(0===A.length&&(!D||0==e.length))return M[0]+O+M[1];if(0>i)return h(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var S;return S=D?a(t,e,i,N,A):A.map(function(n){return c(t,e,i,N,n,D)}),t.seen.pop(),u(S,O,M)}function r(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return 0===e&&1/e===-(1/0)?t.stylize("-0","number"):t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return null===e?t.stylize("null","null"):void 0}function s(t){return"["+Error.prototype.toString.call(t)+"]"}function a(t,e,n,i,o){for(var r=[],s=0,a=e.length;a>s;++s)r.push(Object.prototype.hasOwnProperty.call(e,String(s))?c(t,e,n,i,String(s),!0):"");return o.forEach(function(o){o.match(/^\d+$/)||r.push(c(t,e,n,i,o,!0))}),r}function c(t,e,n,i,r,s){var a,c;if(e.__lookupGetter__&&(e.__lookupGetter__(r)?c=e.__lookupSetter__(r)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(r)&&(c=t.stylize("[Setter]","special"))),i.indexOf(r)<0&&(a="["+r+"]"),c||(t.seen.indexOf(e[r])<0?(c=null===n?o(t,e[r],null):o(t,e[r],n-1),c.indexOf("\n")>-1&&(c=s?c.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+c.split("\n").map(function(t){return"   "+t}).join("\n"))):c=t.stylize("[Circular]","special")),"undefined"==typeof a){if(s&&r.match(/^\d+$/))return c;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+c}function u(t,e,n){var i=0,o=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.length+1},0);return o>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function l(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===d(t)}function h(t){return"object"==typeof t&&"[object RegExp]"===d(t)}function f(t){return"object"==typeof t&&"[object Date]"===d(t)}function p(t){return"object"==typeof t&&"[object Error]"===d(t)}function d(t){return Object.prototype.toString.call(t)}var g=t("./getName"),v=t("./getProperties"),y=t("./getEnumerableProperties");e.exports=i;var m=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&1===t.nodeType&&"string"==typeof t.nodeName}},{"./getEnumerableProperties":38,"./getName":40,"./getProperties":42}],45:[function(t,e,n){var i=t("./inspect"),o=t("../config");e.exports=function(t){var e=i(t),n=Object.prototype.toString.call(t);if(o.truncateThreshold&&e.length>=o.truncateThreshold){if("[object Function]"===n)return t.name&&""!==t.name?"[Function: "+t.name+"]":"[Function]";if("[object Array]"===n)return"[ Array("+t.length+") ]";if("[object Object]"===n){var r=Object.keys(t),s=r.length>2?r.splice(0,2).join(", ")+", ...":r.join(", ");return"{ Object ("+s+") }"}return e}return e}},{"../config":28,"./inspect":44}],46:[function(t,e,n){e.exports=function(t,e,n,i){var o=t.__methods[e],r=o.chainingBehavior;o.chainingBehavior=function(){var t=i(r).call(this);return void 0===t?this:t};var s=o.method;o.method=function(){var t=n(s).apply(this,arguments);return void 0===t?this:t}}},{}],47:[function(t,e,n){e.exports=function(t,e,n){var i=t[e],o=function(){return this};i&&"function"==typeof i&&(o=i),t[e]=function(){var t=n(o).apply(this,arguments);return void 0===t?this:t}}},{}],48:[function(t,e,n){e.exports=function(t,e,n){var i=Object.getOwnPropertyDescriptor(t,e),o=function(){};i&&"function"==typeof i.get&&(o=i.get),Object.defineProperty(t,e,{get:function(){var t=n(o).call(this);return void 0===t?this:t},configurable:!0})}},{}],49:[function(t,e,n){var i=t("./flag");e.exports=function(t,e){var n=i(t,"negate"),o=e[0];return n?!o:o}},{"./flag":36}],50:[function(t,e,n){e.exports=function(t,e,n){var i=t.__flags||(t.__flags=Object.create(null));e.__flags||(e.__flags=Object.create(null)),n=3===arguments.length?n:!0;for(var o in i)(n||"object"!==o&&"ssfi"!==o&&"message"!=o)&&(e.__flags[o]=i[o])}},{}],51:[function(t,e,n){var i={"[object Arguments]":"arguments","[object Array]":"array","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object RegExp]":"regexp","[object String]":"string"};e.exports=function(t){var e=Object.prototype.toString.call(t);return i[e]?i[e]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}},{}],52:[function(t,e,n){function i(){function t(t,n){Object.keys(n).forEach(function(i){~e.indexOf(i)||(t[i]=n[i])})}var e=[].slice.call(arguments);return function(){for(var e=[].slice.call(arguments),n=0,i={};n<e.length;n++)t(i,e[n]);return i}}function o(t,e,n){var o=i("name","message","stack","constructor","toJSON"),r=o(e||{});this.message=t||"Unspecified AssertionError",this.showDiff=!1;for(var s in r)this[s]=r[s];n=n||arguments.callee,n&&Error.captureStackTrace&&Error.captureStackTrace(this,n)}e.exports=o,o.prototype=Object.create(Error.prototype),o.prototype.name="AssertionError",o.prototype.constructor=o,o.prototype.toJSON=function(t){var e=i("constructor","toJSON","stack"),n=e({name:this.name},this);return!1!==t&&this.stack&&(n.stack=this.stack),n}},{}],53:[function(t,e,n){e.exports=t("./lib/eql")},{"./lib/eql":54}],54:[function(t,e,n){function i(t,e,n){return o(t,e)?!0:"date"===g(t)?s(t,e):"regexp"===g(t)?a(t,e):d.isBuffer(t)?h(t,e):"arguments"===g(t)?c(t,e,n):r(t,e)?"object"!==g(t)&&"object"!==g(e)&&"array"!==g(t)&&"array"!==g(e)?o(t,e):p(t,e,n):!1}function o(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function r(t,e){return g(t)===g(e)}function s(t,e){return"date"!==g(e)?!1:o(t.getTime(),e.getTime())}function a(t,e){return"regexp"!==g(e)?!1:o(t.toString(),e.toString())}function c(t,e,n){return"arguments"!==g(e)?!1:(t=[].slice.call(t),e=[].slice.call(e),i(t,e,n))}function u(t){var e=[];for(var n in t)e.push(n);return e}function l(t,e){if(t.length!==e.length)return!1;for(var n=0,i=!0;n<t.length;n++)if(t[n]!==e[n]){i=!1;break}return i}function h(t,e){return d.isBuffer(e)?l(t,e):!1}function f(t){return null!==t&&void 0!==t}function p(t,e,n){if(!f(t)||!f(e))return!1;if(t.prototype!==e.prototype)return!1;var o;if(n){for(o=0;o<n.length;o++)if(n[o][0]===t&&n[o][1]===e||n[o][0]===e&&n[o][1]===t)return!0}else n=[];try{var r=u(t),s=u(e)}catch(a){return!1}if(r.sort(),s.sort(),!l(r,s))return!1;n.push([t,e]);var c;for(o=r.length-1;o>=0;o--)if(c=r[o],!i(t[c],e[c],n))return!1;return!0}var d,g=t("type-detect");try{d=t("buffer").Buffer}catch(v){d={},d.isBuffer=function(){return!1}}e.exports=i},{buffer:16,"type-detect":55}],55:[function(t,e,n){e.exports=t("./lib/type")},{"./lib/type":56}],56:[function(t,e,n){function i(t){var e=Object.prototype.toString.call(t);return r[e]?r[e]:null===t?"null":void 0===t?"undefined":t===Object(t)?"object":typeof t}function o(){this.tests={}}var n=e.exports=i,r={"[object Array]":"array","[object RegExp]":"regexp","[object Function]":"function","[object Arguments]":"arguments","[object Date]":"date"};n.Library=o,o.prototype.of=i,o.prototype.define=function(t,e){return 1===arguments.length?this.tests[t]:(this.tests[t]=e,this)},o.prototype.test=function(t,e){if(e===i(t))return!0;var n=this.tests[e];if(n&&"regexp"===i(n))return n.test(t);if(n&&"function"===i(n))return n(t);throw new ReferenceError('Type test "'+e+'" not defined or invalid.')}},{}],57:[function(t,e,n){var i=t("underscore"),o=["obj","floatatom","symbolatom","msg","text"],r=/ |\r\n?|\n/,s=/,(?!\\)/,a=/\\(\$\d+)/g,c=/\\\,/g,u=/\\\;/g,l=/(#((.|\r|\n)*?)[^\\\\])\r{0,1}\n{0,1};\r{0,1}(\n|$)/i,h=function(t){return t.split("").reverse().join("")},f=n.parseArg=function(t){var e=p(t);if(i.isNumber(e)&&!isNaN(e))return e;if(i.isString(t)){var n,t=t.substr(0);for(t=t.replace(c,","),t=t.replace(u,";");n=a.exec(t);)t=t.replace(n[0],n[1]);return t}throw new Error("couldn't parse arg "+t)},p=n.parseFloat=function(t){return i.isNumber(t)&&!isNaN(t)?t:i.isString(t)?parseFloat(t):0/0},d=n.parseArgs=function(t){if(i.isNumber(t)&&!isNaN(t))return[t];var e,n,o,s=i.isString(t)?t.split(r):t,a=[];for(n=0,o=s.length;o>n;n++)""!==(e=s[n])&&a.push(f(e));return a};n.parse=function(t){return g(t)[0]};var g=function(t){var e,n=null,a=-1,c=function(){return a++,a},u={nodes:[],connections:[],layout:void 0,args:[]},f=!0,p=function(){t=t.slice(e.index+e[0].length)};for(l.lastIndex=0;e=t.match(l);){var y=h(e[1]).split(s).reverse().map(h),m=y[1],b=y[0].split(r),_=b[0];if("#N"===_){var w=b[1];if("canvas"!==w)throw new Error("invalid element type for chunk #N : "+w);if(f)u.layout={x:parseInt(b[2],10),y:parseInt(b[3],10),width:parseInt(b[4],10),height:parseInt(b[5],10),openOnLoad:b[7]},u.args=[b[6]],p();else{var x=g(t),j=x[0],N=x[2];u.nodes.push(i.extend({id:c(),subpatch:j},N)),t=x[1]}}else if("#X"===_){var w=b[1];if("restore"===w){var A={x:parseInt(b[2],10),y:parseInt(b[3],10)},E=b[4],T=[];if("pd"===E&&T.push(b[5]),n){for(var O=n.args[1];n.data.length<O;)n.data.push(0);n=null}return p(),[u,t,{proto:E,args:T,layout:A}]}if(i.contains(o,w)){var D,T,x,A={x:parseInt(b[2],10),y:parseInt(b[3],10)};if("obj"===w?(D=b[4],T=b.slice(5)):(D=w,T=b.slice(4)),"text"===w&&(T=[b.slice(4).join(" ")]),x=v(D,T,A),T=x[0],A=x[1],m)for(var M=m.split(r);M.length;){var S=M.shift();"f"===S&&(A.width=M.shift())}u.nodes.push({id:c(),proto:D,layout:A,args:d(T)})}else if("array"===w){var C=b[2],I=parseFloat(b[3]),P={id:c(),proto:"table",args:[C,I],data:[]};u.nodes.push(P),n=P}else if("connect"===w){var k=parseInt(b[2],10),R=parseInt(b[4],10),L=parseInt(b[3],10),q=parseInt(b[5],10);u.connections.push({source:{id:k,port:L},sink:{id:R,port:q}})}else if("coords"!==w)throw new Error("invalid element type for chunk #X : "+w);p()}else{if("#A"!==_)throw new Error("invalid chunk : "+_);var B,F,W,U=parseFloat(b[1]);if(n)for(B=2,F=b.length;F>B;B++,U++)W=parseFloat(b[B]),i.isNumber(W)&&!isNaN(W)&&(n.data[U]=W);else console.error("got table data outside of a table.");p()}f=!1}return[u,""]},v=function(t,e,n){return"floatatom"===t?(n.width=e[0],n.labelPos=e[3],n.label=e[4],e=[e[1],e[2],e[5],e[6]]):"symbolatom"===t?(n.width=e[0],n.labelPos=e[3],n.label=e[4],e=[e[1],e[2],e[5],e[6]]):"bng"===t?(n.size=e[0],n.hold=e[1],n.interrupt=e[2],n.label=e[6],n.labelX=e[7],n.labelY=e[8],n.labelFont=e[9],n.labelFontSize=e[10],n.bgColor=e[11],n.fgColor=e[12],n.labelColor=e[13],e=[e[3],e[4],e[5]]):"tgl"===t?(n.size=e[0],n.label=e[4],n.labelX=e[5],n.labelY=e[6],n.labelFont=e[7],n.labelFontSize=e[8],n.bgColor=e[9],n.fgColor=e[10],n.labelColor=e[11],e=[e[1],e[2],e[3],e[12],e[13]]):"nbx"===t?(n.size=e[0],n.height=e[1],n.log=e[4],n.label=e[8],n.labelX=e[9],n.labelY=e[10],n.labelFont=e[11],n.labelFontSize=e[12],n.bgColor=e[13],n.fgColor=e[14],n.labelColor=e[15],n.logHeight=e[17],e=[e[2],e[3],e[5],e[6],e[7],e[16]]):"vsl"===t?(n.width=e[0],n.height=e[1],n.log=e[4],n.label=e[8],n.labelX=e[9],n.labelY=e[10],n.labelFont=e[11],n.labelFontSize=e[12],n.bgColor=e[13],n.fgColor=e[14],n.labelColor=e[15],n.steadyOnClick=e[17],e=[e[2],e[3],e[5],e[6],e[7],e[2]+(e[3]-e[2])*e[16]/12700]):"hsl"===t?(n.width=e[0],n.height=e[1],n.log=e[4],n.label=e[8],n.labelX=e[9],n.labelY=e[10],n.labelFont=e[11],n.labelFontSize=e[12],n.bgColor=e[13],n.fgColor=e[14],n.labelColor=e[15],n.steadyOnClick=e[17],e=[e[2],e[3],e[5],e[6],e[7],e[2]+(e[3]-e[2])*e[16]/12700]):"vradio"===t?(n.size=e[0],n.label=e[6],n.labelX=e[7],n.labelY=e[8],n.labelFont=e[9],n.labelFontSize=e[10],n.bgColor=e[11],n.fgColor=e[12],n.labelColor=e[13],e=[e[1],e[2],e[3],e[4],e[5],e[14]]):"hradio"===t?(n.size=e[0],n.label=e[6],n.labelX=e[7],n.labelY=e[8],n.labelFont=e[9],n.labelFontSize=e[10],n.bgColor=e[11],n.fgColor=e[12],n.labelColor=e[13],e=[e[1],e[2],e[3],e[4],e[5],e[14]]):"vu"===t?(n.width=e[0],n.height=e[1],n.label=e[3],n.labelX=e[4],n.labelY=e[5],n.labelFont=e[6],n.labelFontSize=e[7],n.bgColor=e[8],n.labelColor=e[9],n.log=e[10],e=[e[2],e[11]]):"cnv"===t&&(n.size=e[0],n.width=e[1],n.height=e[2],n.label=e[5],n.labelX=e[6],n.labelY=e[7],n.labelFont=e[8],n.labelFontSize=e[9],n.bgColor=e[10],n.labelColor=e[11],e=[e[3],e[4],e[12]]),[e,n]}},{underscore:58}],58:[function(t,e,n){(function(){var t=this,i=t._,o={},r=Array.prototype,s=Object.prototype,a=Function.prototype,c=r.push,u=r.slice,l=r.concat,h=s.toString,f=s.hasOwnProperty,p=r.forEach,d=r.map,g=r.reduce,v=r.reduceRight,y=r.filter,m=r.every,b=r.some,_=r.indexOf,w=r.lastIndexOf,x=Array.isArray,j=Object.keys,N=a.bind,A=function(t){return t instanceof A?t:this instanceof A?void(this._wrapped=t):new A(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=A),n._=A):t._=A,A.VERSION="1.4.4";var E=A.each=A.forEach=function(t,e,n){if(null!=t)if(p&&t.forEach===p)t.forEach(e,n);else if(t.length===+t.length){for(var i=0,r=t.length;r>i;i++)if(e.call(n,t[i],i,t)===o)return}else for(var s in t)if(A.has(t,s)&&e.call(n,t[s],s,t)===o)return};A.map=A.collect=function(t,e,n){var i=[];return null==t?i:d&&t.map===d?t.map(e,n):(E(t,function(t,o,r){i[i.length]=e.call(n,t,o,r)}),i)};var T="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return i&&(e=A.bind(e,i)),o?t.reduce(e,n):t.reduce(e);if(E(t,function(t,r,s){o?n=e.call(i,n,t,r,s):(n=t,o=!0)}),!o)throw new TypeError(T);return n},A.reduceRight=A.foldr=function(t,e,n,i){var o=arguments.length>2;if(null==t&&(t=[]),v&&t.reduceRight===v)return i&&(e=A.bind(e,i)),o?t.reduceRight(e,n):t.reduceRight(e);var r=t.length;if(r!==+r){var s=A.keys(t);r=s.length}if(E(t,function(a,c,u){c=s?s[--r]:--r,o?n=e.call(i,n,t[c],c,u):(n=t[c],o=!0)}),!o)throw new TypeError(T);return n},A.find=A.detect=function(t,e,n){var i;return O(t,function(t,o,r){return e.call(n,t,o,r)?(i=t,!0):void 0}),i},A.filter=A.select=function(t,e,n){var i=[];return null==t?i:y&&t.filter===y?t.filter(e,n):(E(t,function(t,o,r){e.call(n,t,o,r)&&(i[i.length]=t)}),i)},A.reject=function(t,e,n){return A.filter(t,function(t,i,o){return!e.call(n,t,i,o)},n)},A.every=A.all=function(t,e,n){e||(e=A.identity);var i=!0;return null==t?i:m&&t.every===m?t.every(e,n):(E(t,function(t,r,s){return(i=i&&e.call(n,t,r,s))?void 0:o}),!!i)};var O=A.some=A.any=function(t,e,n){e||(e=A.identity);var i=!1;return null==t?i:b&&t.some===b?t.some(e,n):(E(t,function(t,r,s){return i||(i=e.call(n,t,r,s))?o:void 0}),!!i)};A.contains=A.include=function(t,e){return null==t?!1:_&&t.indexOf===_?-1!=t.indexOf(e):O(t,function(t){return t===e})},A.invoke=function(t,e){var n=u.call(arguments,2),i=A.isFunction(e);return A.map(t,function(t){return(i?e:t[e]).apply(t,n)})},A.pluck=function(t,e){return A.map(t,function(t){return t[e]})},A.where=function(t,e,n){return A.isEmpty(e)?n?null:[]:A[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},A.findWhere=function(t,e){return A.where(t,e,!0)},A.max=function(t,e,n){if(!e&&A.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&A.isEmpty(t))return-(1/0);var i={computed:-(1/0),value:-(1/0)};return E(t,function(t,o,r){var s=e?e.call(n,t,o,r):t;s>=i.computed&&(i={value:t,computed:s})}),i.value},A.min=function(t,e,n){if(!e&&A.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&A.isEmpty(t))return 1/0;var i={computed:1/0,value:1/0};return E(t,function(t,o,r){var s=e?e.call(n,t,o,r):t;s<i.computed&&(i={value:t,computed:s})}),i.value},A.shuffle=function(t){var e,n=0,i=[];return E(t,function(t){e=A.random(n++),i[n-1]=i[e],i[e]=t}),i};var D=function(t){return A.isFunction(t)?t:function(e){return e[t]}};A.sortBy=function(t,e,n){var i=D(e);return A.pluck(A.map(t,function(t,e,o){return{value:t,index:e,criteria:i.call(n,t,e,o)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index<e.index?-1:1}),"value")};var M=function(t,e,n,i){var o={},r=D(e||A.identity);return E(t,function(e,s){var a=r.call(n,e,s,t);i(o,a,e)}),o};A.groupBy=function(t,e,n){return M(t,e,n,function(t,e,n){(A.has(t,e)?t[e]:t[e]=[]).push(n)})},A.countBy=function(t,e,n){return M(t,e,n,function(t,e){A.has(t,e)||(t[e]=0),t[e]++})},A.sortedIndex=function(t,e,n,i){n=null==n?A.identity:D(n);for(var o=n.call(i,e),r=0,s=t.length;s>r;){var a=r+s>>>1;n.call(i,t[a])<o?r=a+1:s=a}return r},A.toArray=function(t){return t?A.isArray(t)?u.call(t):t.length===+t.length?A.map(t,A.identity):A.values(t):[]},A.size=function(t){return null==t?0:t.length===+t.length?t.length:A.keys(t).length},A.first=A.head=A.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:u.call(t,0,e)},A.initial=function(t,e,n){return u.call(t,0,t.length-(null==e||n?1:e))},A.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0))},A.rest=A.tail=A.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},A.compact=function(t){return A.filter(t,A.identity)};var S=function(t,e,n){return E(t,function(t){A.isArray(t)?e?c.apply(n,t):S(t,e,n):n.push(t)}),n};A.flatten=function(t,e){return S(t,e,[])},A.without=function(t){return A.difference(t,u.call(arguments,1))},A.uniq=A.unique=function(t,e,n,i){A.isFunction(e)&&(i=n,n=e,e=!1);var o=n?A.map(t,n,i):t,r=[],s=[];return E(o,function(n,i){(e?i&&s[s.length-1]===n:A.contains(s,n))||(s.push(n),r.push(t[i]))}),r},A.union=function(){return A.uniq(l.apply(r,arguments))},A.intersection=function(t){var e=u.call(arguments,1);return A.filter(A.uniq(t),function(t){return A.every(e,function(e){return A.indexOf(e,t)>=0})})},A.difference=function(t){var e=l.apply(r,u.call(arguments,1));return A.filter(t,function(t){return!A.contains(e,t)})},A.zip=function(){for(var t=u.call(arguments),e=A.max(A.pluck(t,"length")),n=new Array(e),i=0;e>i;i++)n[i]=A.pluck(t,""+i);return n},A.object=function(t,e){if(null==t)return{};for(var n={},i=0,o=t.length;o>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},A.indexOf=function(t,e,n){if(null==t)return-1;var i=0,o=t.length;if(n){if("number"!=typeof n)return i=A.sortedIndex(t,e),t[i]===e?i:-1;i=0>n?Math.max(0,o+n):n}if(_&&t.indexOf===_)return t.indexOf(e,n);for(;o>i;i++)if(t[i]===e)return i;return-1},A.lastIndexOf=function(t,e,n){if(null==t)return-1;var i=null!=n;if(w&&t.lastIndexOf===w)return i?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var o=i?n:t.length;o--;)if(t[o]===e)return o;return-1},A.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((e-t)/n),0),o=0,r=new Array(i);i>o;)r[o++]=t,t+=n;return r},A.bind=function(t,e){if(t.bind===N&&N)return N.apply(t,u.call(arguments,1));var n=u.call(arguments,2);return function(){return t.apply(e,n.concat(u.call(arguments)))}},A.partial=function(t){var e=u.call(arguments,1);return function(){return t.apply(this,e.concat(u.call(arguments)))}},A.bindAll=function(t){var e=u.call(arguments,1);return 0===e.length&&(e=A.functions(t)),E(e,function(e){t[e]=A.bind(t[e],t)}),t},A.memoize=function(t,e){var n={};return e||(e=A.identity),function(){var i=e.apply(this,arguments);return A.has(n,i)?n[i]:n[i]=t.apply(this,arguments)}},A.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},A.defer=function(t){return A.delay.apply(A,[t,1].concat(u.call(arguments,1)))},A.throttle=function(t,e){var n,i,o,r,s=0,a=function(){s=new Date,o=null,r=t.apply(n,i)};return function(){var c=new Date,u=e-(c-s);return n=this,i=arguments,0>=u?(clearTimeout(o),o=null,s=c,r=t.apply(n,i)):o||(o=setTimeout(a,u)),r}},A.debounce=function(t,e,n){var i,o;return function(){var r=this,s=arguments,a=function(){i=null,n||(o=t.apply(r,s))},c=n&&!i;return clearTimeout(i),i=setTimeout(a,e),c&&(o=t.apply(r,s)),o}},A.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},A.wrap=function(t,e){return function(){var n=[t];return c.apply(n,arguments),e.apply(this,n)}},A.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},A.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},A.keys=j||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)A.has(t,n)&&(e[e.length]=n);return e},A.values=function(t){var e=[];for(var n in t)A.has(t,n)&&e.push(t[n]);return e},A.pairs=function(t){var e=[];for(var n in t)A.has(t,n)&&e.push([n,t[n]]);return e},A.invert=function(t){var e={};for(var n in t)A.has(t,n)&&(e[t[n]]=n);return e},A.functions=A.methods=function(t){var e=[];for(var n in t)A.isFunction(t[n])&&e.push(n);return e.sort()},A.extend=function(t){return E(u.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},A.pick=function(t){var e={},n=l.apply(r,u.call(arguments,1));return E(n,function(n){n in t&&(e[n]=t[n])}),e},A.omit=function(t){var e={},n=l.apply(r,u.call(arguments,1));for(var i in t)A.contains(n,i)||(e[i]=t[i]);return e},A.defaults=function(t){return E(u.call(arguments,1),function(e){if(e)for(var n in e)null==t[n]&&(t[n]=e[n])}),t},A.clone=function(t){return A.isObject(t)?A.isArray(t)?t.slice():A.extend({},t):t},A.tap=function(t,e){return e(t),t};var C=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof A&&(t=t._wrapped),e instanceof A&&(e=e._wrapped);var o=h.call(t);if(o!=h.call(e))return!1;switch(o){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var r=n.length;r--;)if(n[r]==t)return i[r]==e;n.push(t),i.push(e);var s=0,a=!0;if("[object Array]"==o){if(s=t.length,a=s==e.length)for(;s--&&(a=C(t[s],e[s],n,i)););}else{var c=t.constructor,u=e.constructor;if(c!==u&&!(A.isFunction(c)&&c instanceof c&&A.isFunction(u)&&u instanceof u))return!1;for(var l in t)if(A.has(t,l)&&(s++,!(a=A.has(e,l)&&C(t[l],e[l],n,i))))break;if(a){for(l in e)if(A.has(e,l)&&!s--)break;a=!s}}return n.pop(),i.pop(),a};A.isEqual=function(t,e){return C(t,e,[],[])},A.isEmpty=function(t){if(null==t)return!0;if(A.isArray(t)||A.isString(t))return 0===t.length;for(var e in t)if(A.has(t,e))return!1;return!0},A.isElement=function(t){return!(!t||1!==t.nodeType)},A.isArray=x||function(t){return"[object Array]"==h.call(t)},A.isObject=function(t){return t===Object(t)},E(["Arguments","Function","String","Number","Date","RegExp"],function(t){A["is"+t]=function(e){return h.call(e)=="[object "+t+"]"}}),A.isArguments(arguments)||(A.isArguments=function(t){return!(!t||!A.has(t,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(t){return"function"==typeof t}),A.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},A.isNaN=function(t){return A.isNumber(t)&&t!=+t},A.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==h.call(t)},A.isNull=function(t){return null===t},A.isUndefined=function(t){return void 0===t},A.has=function(t,e){return f.call(t,e)},A.noConflict=function(){return t._=i,this},A.identity=function(t){return t},A.times=function(t,e,n){for(var i=Array(t),o=0;t>o;o++)i[o]=e.call(n,o);return i},A.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var I={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};I.unescape=A.invert(I.escape);var P={escape:new RegExp("["+A.keys(I.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(I.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(t){A[t]=function(e){return null==e?"":(""+e).replace(P[t],function(e){return I[t][e]})}}),A.result=function(t,e){if(null==t)return null;var n=t[e];return A.isFunction(n)?n.call(t):n},A.mixin=function(t){E(A.functions(t),function(e){var n=A[e]=t[e];A.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),B.call(this,n.apply(A,t))}})};var k=0;A.uniqueId=function(t){var e=++k+"";return t?t+e:e},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var R=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},q=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(t,e,n){var i;n=A.defaults({},n,A.templateSettings);var o=new RegExp([(n.escape||R).source,(n.interpolate||R).source,(n.evaluate||R).source].join("|")+"|$","g"),r=0,s="__p+='";t.replace(o,function(e,n,i,o,a){return s+=t.slice(r,a).replace(q,function(t){return"\\"+L[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(s+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),o&&(s+="';\n"+o+"\n__p+='"),r=a+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{i=new Function(n.variable||"obj","_",s)}catch(a){throw a.source=s,a}if(e)return i(e,A);var c=function(t){return i.call(this,t,A)};return c.source="function("+(n.variable||"obj")+"){\n"+s+"}",c},A.chain=function(t){return A(t).chain()};var B=function(t){return this._chain?A(t).chain():t};A.mixin(A),E(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=r[t];A.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],B.call(this,n)}}),E(["concat","join","slice"],function(t){var e=r[t];A.prototype[t]=function(){return B.call(this,e.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],59:[function(t,e,n){var i=t("./lib/WAAClock");e.exports=i,"undefined"!=typeof window&&(window.WAAClock=i)},{"./lib/WAAClock":60}],60:[function(t,e,n){(function(t){var n="undefined"!=typeof window;

if(n&&!AudioContext)throw new Error("This browser doesn't seem to support web audio API");var i={toleranceLate:.1,toleranceEarly:.001},o=function(t,e,n){this.clock=t,this.func=n,this._cleared=!1,this.toleranceLate=t.toleranceLate,this.toleranceEarly=t.toleranceEarly,this._latestTime=null,this._earliestTime=null,this.deadline=null,this.repeatTime=null,this.schedule(e)};o.prototype.clear=function(){return this.clock._removeEvent(this),this._cleared=!0,this},o.prototype.repeat=function(t){if(0===t)throw new Error("delay cannot be 0");return this.repeatTime=t,this.clock._hasEvent(this)||this.schedule(this.deadline+this.repeatTime),this},o.prototype.tolerance=function(t){return"number"==typeof t.late&&(this.toleranceLate=t.late),"number"==typeof t.early&&(this.toleranceEarly=t.early),this._refreshEarlyLateDates(),this.clock._hasEvent(this)&&(this.clock._removeEvent(this),this.clock._insertEvent(this)),this},o.prototype.isRepeated=function(){return null!==this.repeatTime},o.prototype.schedule=function(t){this._cleared=!1,this.deadline=t,this._refreshEarlyLateDates(),this.clock.context.currentTime>=this._earliestTime?this._execute():this.clock._hasEvent(this)?(this.clock._removeEvent(this),this.clock._insertEvent(this)):this.clock._insertEvent(this)},o.prototype.timeStretch=function(t,e){this.isRepeated()&&(this.repeatTime=this.repeatTime*e);var n=t+e*(this.deadline-t);if(this.isRepeated())for(;this.clock.context.currentTime>=n-this.toleranceEarly;)n+=this.repeatTime;this.schedule(n)},o.prototype._execute=function(){this.clock._started!==!1&&(this.clock._removeEvent(this),this.clock.context.currentTime<this._latestTime?this.func(this):(this.onexpired&&this.onexpired(this),console.warn("event expired")),this.clock._hasEvent(this)||!this.isRepeated()||this._cleared||this.schedule(this.deadline+this.repeatTime))},o.prototype._refreshEarlyLateDates=function(){this._latestTime=this.deadline+this.toleranceLate,this._earliestTime=this.deadline-this.toleranceEarly};var r=e.exports=function(t,e){e=e||{},this.tickMethod=e.tickMethod||"ScriptProcessorNode",this.toleranceEarly=e.toleranceEarly||i.toleranceEarly,this.toleranceLate=e.toleranceLate||i.toleranceLate,this.context=t,this._events=[],this._started=!1};r.prototype.setTimeout=function(t,e){return this._createEvent(t,this._absTime(e))},r.prototype.callbackAtTime=function(t,e){return this._createEvent(t,e)},r.prototype.timeStretch=function(t,e,n){return e.forEach(function(e){e.timeStretch(t,n)}),e},r.prototype.start=function(){if(this._started===!1){var e=this;if(this._started=!0,this._events=[],"ScriptProcessorNode"===this.tickMethod){var n=256;this._clockNode=this.context.createScriptProcessor(n,1,1),this._clockNode.connect(this.context.destination),this._clockNode.onaudioprocess=function(){t.nextTick(function(){e._tick()})}}else if("manual"!==this.tickMethod)throw new Error("invalid tickMethod "+this.tickMethod)}},r.prototype.stop=function(){this._started===!0&&(this._started=!1,this._clockNode.disconnect())},r.prototype._tick=function(){for(var t=this._events.shift();t&&t._earliestTime<=this.context.currentTime;)t._execute(),t=this._events.shift();t&&this._events.unshift(t)},r.prototype._createEvent=function(t,e){return new o(this,e,t)},r.prototype._insertEvent=function(t){this._events.splice(this._indexByTime(t._earliestTime),0,t)},r.prototype._removeEvent=function(t){var e=this._events.indexOf(t);-1!==e&&this._events.splice(e,1)},r.prototype._hasEvent=function(t){return-1!==this._events.indexOf(t)},r.prototype._indexByTime=function(t){for(var e,n=0,i=this._events.length;i>n;)e=Math.floor((n+i)/2),this._events[e]._earliestTime<t?n=e+1:i=e;return n},r.prototype._absTime=function(t){return t+this.context.currentTime},r.prototype._relTime=function(t){return t-this.context.currentTime}}).call(this,t("_process"))},{_process:22}],61:[function(t,e,n){var i=t("./lib/WAAOffsetNode");e.exports=i,"undefined"!=typeof window&&(window.WAAOffsetNode=i)},{"./lib/WAAOffsetNode":62}],62:[function(t,e,n){var i=e.exports=function(t){this.context=t,this._ones=i._ones.filter(function(e){return e.context===t})[0],this._ones?this._ones=this._ones.ones:(this._ones=t.createOscillator(),this._ones.frequency.value=0,this._ones.setPeriodicWave(t.createPeriodicWave(new Float32Array([0,1]),new Float32Array([0,0]))),this._ones.start(0),i._ones.push({context:t,ones:this._ones})),this._output=t.createGain(),this._ones.connect(this._output),this.offset=this._output.gain,this.offset.value=0};i.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},i.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)},i._ones=[]},{}],63:[function(t,e,n){var i=t("./lib/WAATableNode");e.exports=i,"undefined"!=typeof window&&(window.WAATableNode=i)},{"./lib/WAATableNode":64}],64:[function(t,e,n){var i=t("waaoffset"),o=e.exports=function(t){this.context=t,this._output=t.createWaveShaper(),this._positionNode=new i(t),this._positionNode.connect(this._output),this._positionNode.offset.value=-1,this.position=t.createGain(),this.position.connect(this._positionNode.offset),this.position.gain.value=0,this._table=null,Object.defineProperty(this,"table",{get:function(){return this._table},set:function(t){this._setTable(t)}})};o.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},o.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)},o.prototype._setTable=function(t){t instanceof AudioBuffer&&(t=t.getChannelData(0)),this._table=t,null!==t&&(this._output.curve=t,this.position.gain.setValueAtTime(2/(t.length-1),0))}},{waaoffset:65}],65:[function(t,e,n){var i=t("./lib/WAAOffset");e.exports=i,"undefined"!=typeof window&&(window.WAAOffset=i)},{"./lib/WAAOffset":66}],66:[function(t,e,n){var i=e.exports=function(t){this.context=t,this._ones=t.createOscillator(),this._ones.frequency.value=0,this._ones.setPeriodicWave(t.createPeriodicWave(new Float32Array([0,1]),new Float32Array([0,0]))),this._ones.start(0),this._output=t.createGain(),this._ones.connect(this._output),this.offset=this._output.gain,this.offset.value=0};i.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},i.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)}},{}],67:[function(t,e,n){var i=t("./lib/WAAWhiteNoiseNode");e.exports=i,"undefined"!=typeof window&&(window.WAAWhiteNoiseNode=i)},{"./lib/WAAWhiteNoiseNode":68}],68:[function(t,e,n){var i=e.exports=function(t){this.context=t,this._buffer=t.createBuffer(1,131072,t.sampleRate);var e,n=this._buffer.getChannelData(0);for(e=0;131072>e;e++)n[e]=2*Math.random()-1;this._prepareOutput()};i.prototype.connect=function(){this._output.connect.apply(this._output,arguments)},i.prototype.disconnect=function(){this._output.disconnect.apply(this._output,arguments)},i.prototype.start=function(){this._output.start.apply(this._output,arguments)},i.prototype.stop=function(){this._output.stop.apply(this._output,arguments),this._prepareOutput()},i.prototype._prepareOutput=function(){this._output=this.context.createBufferSource(),this._output.buffer=this._buffer,this._output.loop=!0}},{}],69:[function(t,e,n){var i=t("./lib/WAAWire");e.exports=i,"undefined"!=typeof window&&(window.WAAWire=i)},{"./lib/WAAWire":70}],70:[function(t,e,n){var i=e.exports=function(t){this.context=t,this._source=null,this._output=null,this._destination=null,this._input=null,this._gainNode=null,this._discardedGainNode=null,this._atTime=0,this._closed=!1},o=function(t){return function(){return this._clean(),this[t].apply(this,[this._atTime].concat([].slice.call(arguments,0))),this._atTime=0,this}};i.prototype.connect=o("_connect"),i.prototype.swapSource=o("_swapSource"),i.prototype.swapDestination=o("_swapDestination"),i.prototype.close=o("_close"),i.prototype.atTime=function(t){return this._atTime=t,this},i.prototype._connect=function(t,e,n,i,o){if(this._gainNode)throw new Error("Wire already connected");this._source=e,this._destination=n,this._output=i||0,this._input=o||0,this._doConnections(t)},i.prototype._swapSource=function(t,e,n){this._discardedGainNode=this._gainNode,this._discardedGainNode.gain.setValueAtTime(0,t),this._source=e,this._output=n||0,this._doConnections(t)},i.prototype._swapDestination=function(t,e,n){this._discardedGainNode=this._gainNode,this._discardedGainNode.gain.setValueAtTime(0,t),this._destination=e,this._input=n||0,this._doConnections(t)},i.prototype._close=function(t){if(this._closed===!0)throw new Error("Wire already closed");this._discardedGainNode=this._gainNode,this._gainNode.gain.setValueAtTime(0,t),this._gainNode=null,this._closed=!0},i.prototype._doConnections=function(t){var e=this.context.createGain();e.gain.setValueAtTime(0,0),e.gain.setValueAtTime(1,t),this._gainNode=e,this._source.connect(e,this._output),this._destination instanceof AudioParam?e.connect(this._destination,0):e.connect(this._destination,0,this._input)},i.prototype._clean=function(){this._discardedGainNode&&0===this._discardedGainNode.gain.value&&(this._discardedGainNode.disconnect(),this._discardedGainNode=null)};var r=function(){if("undefined"!=typeof window&&window.OfflineAudioContext){var t=new OfflineAudioContext(1,1,44100),e=t.createBufferSource(),n=t.createGain(),i=t.createBuffer(1,1,44100);i.getChannelData(0)[0]=1,e.buffer=i,e.connect(n),e.connect(t.destination),e.start(0),n.connect(t.destination),e.disconnect(n),t.oncomplete=function(t){s=!!t.renderedBuffer.getChannelData(0)[0]},t.startRendering()}},s=null;r()},{}]},{},[1]);